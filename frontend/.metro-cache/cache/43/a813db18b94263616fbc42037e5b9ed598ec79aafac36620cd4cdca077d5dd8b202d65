{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":81},"end":{"line":4,"column":102,"index":183}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":184},"end":{"line":5,"column":52,"index":236}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(); // AUTH CONTEXT\n  // Provides authentication state and methods throughout the app\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [state, setState] = (0, _react.useState)({\n      user: null,\n      isLoading: true,\n      isAuthenticated: false\n    });\n\n    // Check for existing session on mount\n    (0, _react.useEffect)(() => {\n      checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async () => {\n      console.log('Checking auth status...');\n      try {\n        const isAuth = await _servicesApi.authApi.isAuthenticated();\n        console.log('Is authenticated:', isAuth);\n        if (isAuth) {\n          const user = await _servicesApi.authApi.getCurrentUser();\n          console.log('Found user:', user?.email);\n          setState({\n            user,\n            isLoading: false,\n            isAuthenticated: !!user\n          });\n        } else {\n          console.log('No auth token found');\n          setState({\n            user: null,\n            isLoading: false,\n            isAuthenticated: false\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    };\n    const login = (0, _react.useCallback)(async credentials => {\n      console.log('Login called with:', credentials.email);\n      setState(prev => Object.assign({}, prev, {\n        isLoading: true\n      }));\n      try {\n        console.log('Calling authApi.login...');\n        const response = await _servicesApi.authApi.login(credentials);\n        console.log('Login successful, user:', response.user?.email);\n        setState({\n          user: response.user,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Login failed:', error);\n        setState(prev => Object.assign({}, prev, {\n          isLoading: false\n        }));\n        throw error;\n      }\n    }, []);\n    const logout = (0, _react.useCallback)(async () => {\n      setState(prev => Object.assign({}, prev, {\n        isLoading: true\n      }));\n      try {\n        await _servicesApi.authApi.logout();\n      } finally {\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    }, []);\n    const refreshUser = (0, _react.useCallback)(async () => {\n      const user = await _servicesApi.authApi.getCurrentUser();\n      setState(prev => Object.assign({}, prev, {\n        user\n      }));\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: Object.assign({}, state, {\n        login,\n        logout,\n        refreshUser\n      }),\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"oFydYfIcJV58DLvI+bERQs+y21U=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _default = AuthContext;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":136,"map":[[6,26,1,0],[7,2,2,0],[8,2,2,0,"Object"],[8,8,2,0],[8,9,2,0,"defineProperty"],[8,23,2,0],[8,24,2,0,"exports"],[8,31,2,0],[9,4,2,0,"value"],[9,9,2,0],[10,2,2,0],[11,2,130,0,"Object"],[11,8,130,0],[11,9,130,0,"defineProperty"],[11,23,130,0],[11,24,130,0,"exports"],[11,31,130,0],[12,4,130,0,"enumerable"],[12,14,130,0],[13,4,130,0,"get"],[13,7,130,0],[13,18,130,0,"get"],[13,19,130,0],[14,6,130,0],[14,13,130,0,"_default"],[14,21,130,0],[15,4,130,0],[16,2,130,0],[17,2,26,0,"exports"],[17,9,26,0],[17,10,26,0,"AuthProvider"],[17,22,26,0],[17,25,26,0,"AuthProvider"],[17,37,26,0],[18,2,122,0,"exports"],[18,9,122,0],[18,10,122,0,"useAuth"],[18,17,122,0],[18,20,122,0,"useAuth"],[18,27,122,0],[19,2,4,0],[19,6,4,0,"_react"],[19,12,4,0],[19,15,4,0,"require"],[19,22,4,0],[19,23,4,0,"_dependencyMap"],[19,37,4,0],[20,2,5,0],[20,6,5,0,"_servicesApi"],[20,18,5,0],[20,21,5,0,"require"],[20,28,5,0],[20,29,5,0,"_dependencyMap"],[20,43,5,0],[21,2,5,52],[21,6,5,52,"_reactJsxDevRuntime"],[21,25,5,52],[21,28,5,52,"require"],[21,35,5,52],[21,36,5,52,"_dependencyMap"],[21,50,5,52],[22,2,20,0],[22,8,20,6,"AuthContext"],[22,19,20,17],[22,35,20,20],[22,39,20,20,"createContext"],[22,45,20,33],[22,46,20,33,"createContext"],[22,59,20,33],[22,61,20,63,"undefined"],[22,70,20,72],[22,71,20,73],[23,2,26,7],[23,11,26,16,"AuthProvider"],[23,23,26,28,"AuthProvider"],[23,24,26,29],[24,4,26,31,"children"],[25,2,26,59],[25,3,26,60],[25,5,26,62],[26,4,26,62,"_s"],[26,6,26,62],[27,4,27,2],[27,10,27,8],[27,11,27,9,"state"],[27,16,27,14],[27,18,27,16,"setState"],[27,26,27,24],[27,27,27,25],[27,30,27,28],[27,34,27,28,"useState"],[27,40,27,36],[27,41,27,36,"useState"],[27,49,27,36],[27,51,27,48],[28,6,28,4,"user"],[28,10,28,8],[28,12,28,10],[28,16,28,14],[29,6,29,4,"isLoading"],[29,15,29,13],[29,17,29,15],[29,21,29,19],[30,6,30,4,"isAuthenticated"],[30,21,30,19],[30,23,30,21],[31,4,31,2],[31,5,31,3],[31,6,31,4],[33,4,33,2],[34,4,34,2],[34,8,34,2,"useEffect"],[34,14,34,11],[34,15,34,11,"useEffect"],[34,24,34,11],[34,26,34,12],[34,32,34,18],[35,6,35,4,"checkAuthStatus"],[35,21,35,19],[35,22,35,20],[35,23,35,21],[36,4,36,2],[36,5,36,3],[36,7,36,5],[36,9,36,7],[36,10,36,8],[37,4,38,2],[37,10,38,8,"checkAuthStatus"],[37,25,38,23],[37,28,38,26],[37,34,38,26,"checkAuthStatus"],[37,35,38,26],[37,40,38,38],[38,6,39,4,"console"],[38,13,39,11],[38,14,39,12,"log"],[38,17,39,15],[38,18,39,16],[38,43,39,41],[38,44,39,42],[39,6,40,4],[39,10,40,8],[40,8,41,6],[40,14,41,12,"isAuth"],[40,20,41,18],[40,23,41,21],[40,29,41,27,"authApi"],[40,41,41,34],[40,42,41,34,"authApi"],[40,49,41,34],[40,50,41,35,"isAuthenticated"],[40,65,41,50],[40,66,41,51],[40,67,41,52],[41,8,42,6,"console"],[41,15,42,13],[41,16,42,14,"log"],[41,19,42,17],[41,20,42,18],[41,39,42,37],[41,41,42,39,"isAuth"],[41,47,42,45],[41,48,42,46],[42,8,43,6],[42,12,43,10,"isAuth"],[42,18,43,16],[42,20,43,18],[43,10,44,8],[43,16,44,14,"user"],[43,20,44,18],[43,23,44,21],[43,29,44,27,"authApi"],[43,41,44,34],[43,42,44,34,"authApi"],[43,49,44,34],[43,50,44,35,"getCurrentUser"],[43,64,44,49],[43,65,44,50],[43,66,44,51],[44,10,45,8,"console"],[44,17,45,15],[44,18,45,16,"log"],[44,21,45,19],[44,22,45,20],[44,35,45,33],[44,37,45,35,"user"],[44,41,45,39],[44,43,45,41,"email"],[44,48,45,46],[44,49,45,47],[45,10,46,8,"setState"],[45,18,46,16],[45,19,46,17],[46,12,47,10,"user"],[46,16,47,14],[47,12,48,10,"isLoading"],[47,21,48,19],[47,23,48,21],[47,28,48,26],[48,12,49,10,"isAuthenticated"],[48,27,49,25],[48,29,49,27],[48,30,49,28],[48,31,49,29,"user"],[49,10,50,8],[49,11,50,9],[49,12,50,10],[50,8,51,6],[50,9,51,7],[50,15,51,13],[51,10,52,8,"console"],[51,17,52,15],[51,18,52,16,"log"],[51,21,52,19],[51,22,52,20],[51,43,52,41],[51,44,52,42],[52,10,53,8,"setState"],[52,18,53,16],[52,19,53,17],[53,12,54,10,"user"],[53,16,54,14],[53,18,54,16],[53,22,54,20],[54,12,55,10,"isLoading"],[54,21,55,19],[54,23,55,21],[54,28,55,26],[55,12,56,10,"isAuthenticated"],[55,27,56,25],[55,29,56,27],[56,10,57,8],[56,11,57,9],[56,12,57,10],[57,8,58,6],[58,6,59,4],[58,7,59,5],[58,8,59,6],[58,15,59,13,"error"],[58,20,59,18],[58,22,59,20],[59,8,60,6,"console"],[59,15,60,13],[59,16,60,14,"error"],[59,21,60,19],[59,22,60,20],[59,42,60,40],[59,44,60,42,"error"],[59,49,60,47],[59,50,60,48],[60,8,61,6,"setState"],[60,16,61,14],[60,17,61,15],[61,10,62,8,"user"],[61,14,62,12],[61,16,62,14],[61,20,62,18],[62,10,63,8,"isLoading"],[62,19,63,17],[62,21,63,19],[62,26,63,24],[63,10,64,8,"isAuthenticated"],[63,25,64,23],[63,27,64,25],[64,8,65,6],[64,9,65,7],[64,10,65,8],[65,6,66,4],[66,4,67,2],[66,5,67,3],[67,4,69,2],[67,10,69,8,"login"],[67,15,69,13],[67,18,69,16],[67,22,69,16,"useCallback"],[67,28,69,27],[67,29,69,27,"useCallback"],[67,40,69,27],[67,42,69,28],[67,48,69,35,"credentials"],[67,59,69,60],[67,63,69,65],[68,6,70,4,"console"],[68,13,70,11],[68,14,70,12,"log"],[68,17,70,15],[68,18,70,16],[68,38,70,36],[68,40,70,38,"credentials"],[68,51,70,49],[68,52,70,50,"email"],[68,57,70,55],[68,58,70,56],[69,6,71,4,"setState"],[69,14,71,12],[69,15,71,13,"prev"],[69,19,71,17],[69,23,71,17,"Object"],[69,29,71,17],[69,30,71,17,"assign"],[69,36,71,17],[69,41,71,27,"prev"],[69,45,71,31],[70,8,71,33,"isLoading"],[70,17,71,42],[70,19,71,44],[71,6,71,48],[71,8,71,51],[71,9,71,52],[72,6,73,4],[72,10,73,8],[73,8,74,6,"console"],[73,15,74,13],[73,16,74,14,"log"],[73,19,74,17],[73,20,74,18],[73,46,74,44],[73,47,74,45],[74,8,75,6],[74,14,75,12,"response"],[74,22,75,20],[74,25,75,23],[74,31,75,29,"authApi"],[74,43,75,36],[74,44,75,36,"authApi"],[74,51,75,36],[74,52,75,37,"login"],[74,57,75,42],[74,58,75,43,"credentials"],[74,69,75,54],[74,70,75,55],[75,8,76,6,"console"],[75,15,76,13],[75,16,76,14,"log"],[75,19,76,17],[75,20,76,18],[75,45,76,43],[75,47,76,45,"response"],[75,55,76,53],[75,56,76,54,"user"],[75,60,76,58],[75,62,76,60,"email"],[75,67,76,65],[75,68,76,66],[76,8,77,6,"setState"],[76,16,77,14],[76,17,77,15],[77,10,78,8,"user"],[77,14,78,12],[77,16,78,14,"response"],[77,24,78,22],[77,25,78,23,"user"],[77,29,78,27],[78,10,79,8,"isLoading"],[78,19,79,17],[78,21,79,19],[78,26,79,24],[79,10,80,8,"isAuthenticated"],[79,25,80,23],[79,27,80,25],[80,8,81,6],[80,9,81,7],[80,10,81,8],[81,6,82,4],[81,7,82,5],[81,8,82,6],[81,15,82,13,"error"],[81,20,82,18],[81,22,82,20],[82,8,83,6,"console"],[82,15,83,13],[82,16,83,14,"error"],[82,21,83,19],[82,22,83,20],[82,37,83,35],[82,39,83,37,"error"],[82,44,83,42],[82,45,83,43],[83,8,84,6,"setState"],[83,16,84,14],[83,17,84,15,"prev"],[83,21,84,19],[83,25,84,19,"Object"],[83,31,84,19],[83,32,84,19,"assign"],[83,38,84,19],[83,43,84,29,"prev"],[83,47,84,33],[84,10,84,35,"isLoading"],[84,19,84,44],[84,21,84,46],[85,8,84,51],[85,10,84,54],[85,11,84,55],[86,8,85,6],[86,14,85,12,"error"],[86,19,85,17],[87,6,86,4],[88,4,87,2],[88,5,87,3],[88,7,87,5],[88,9,87,7],[88,10,87,8],[89,4,89,2],[89,10,89,8,"logout"],[89,16,89,14],[89,19,89,17],[89,23,89,17,"useCallback"],[89,29,89,28],[89,30,89,28,"useCallback"],[89,41,89,28],[89,43,89,29],[89,55,89,41],[90,6,90,4,"setState"],[90,14,90,12],[90,15,90,13,"prev"],[90,19,90,17],[90,23,90,17,"Object"],[90,29,90,17],[90,30,90,17,"assign"],[90,36,90,17],[90,41,90,27,"prev"],[90,45,90,31],[91,8,90,33,"isLoading"],[91,17,90,42],[91,19,90,44],[92,6,90,48],[92,8,90,51],[92,9,90,52],[93,6,92,4],[93,10,92,8],[94,8,93,6],[94,14,93,12,"authApi"],[94,26,93,19],[94,27,93,19,"authApi"],[94,34,93,19],[94,35,93,20,"logout"],[94,41,93,26],[94,42,93,27],[94,43,93,28],[95,6,94,4],[95,7,94,5],[95,16,94,14],[96,8,95,6,"setState"],[96,16,95,14],[96,17,95,15],[97,10,96,8,"user"],[97,14,96,12],[97,16,96,14],[97,20,96,18],[98,10,97,8,"isLoading"],[98,19,97,17],[98,21,97,19],[98,26,97,24],[99,10,98,8,"isAuthenticated"],[99,25,98,23],[99,27,98,25],[100,8,99,6],[100,9,99,7],[100,10,99,8],[101,6,100,4],[102,4,101,2],[102,5,101,3],[102,7,101,5],[102,9,101,7],[102,10,101,8],[103,4,103,2],[103,10,103,8,"refreshUser"],[103,21,103,19],[103,24,103,22],[103,28,103,22,"useCallback"],[103,34,103,33],[103,35,103,33,"useCallback"],[103,46,103,33],[103,48,103,34],[103,60,103,46],[104,6,104,4],[104,12,104,10,"user"],[104,16,104,14],[104,19,104,17],[104,25,104,23,"authApi"],[104,37,104,30],[104,38,104,30,"authApi"],[104,45,104,30],[104,46,104,31,"getCurrentUser"],[104,60,104,45],[104,61,104,46],[104,62,104,47],[105,6,105,4,"setState"],[105,14,105,12],[105,15,105,13,"prev"],[105,19,105,17],[105,23,105,17,"Object"],[105,29,105,17],[105,30,105,17,"assign"],[105,36,105,17],[105,41,105,27,"prev"],[105,45,105,31],[106,8,105,33,"user"],[107,6,105,37],[107,8,105,40],[107,9,105,41],[108,4,106,2],[108,5,106,3],[108,7,106,5],[108,9,106,7],[108,10,106,8],[109,4,108,2],[109,24,109,4],[109,28,109,4,"_reactJsxDevRuntime"],[109,47,109,4],[109,48,109,4,"jsxDEV"],[109,54,109,4],[109,56,109,5,"AuthContext"],[109,67,109,16],[109,68,109,17,"Provider"],[109,76,109,25],[110,6,110,6,"value"],[110,11,110,11],[110,13,110,11,"Object"],[110,19,110,11],[110,20,110,11,"assign"],[110,26,110,11],[110,31,111,11,"state"],[110,36,111,16],[111,8,112,8,"login"],[111,13,112,13],[112,8,113,8,"logout"],[112,14,113,14],[113,8,114,8,"refreshUser"],[114,6,114,19],[114,8,115,8],[115,6,115,8,"children"],[115,14,115,8],[115,16,117,7,"children"],[116,4,117,15],[117,6,117,15,"fileName"],[117,14,117,15],[117,16,117,15,"_jsxFileName"],[117,28,117,15],[118,6,117,15,"lineNumber"],[118,16,117,15],[119,6,117,15,"columnNumber"],[119,18,117,15],[120,4,117,15],[120,11,118,26],[120,12,118,27],[121,2,120,0],[122,2,120,1,"_s"],[122,4,120,1],[122,5,26,16,"AuthProvider"],[122,17,26,28],[123,2,26,28,"_c"],[123,4,26,28],[123,7,26,16,"AuthProvider"],[123,19,26,28],[124,2,122,7],[124,11,122,16,"useAuth"],[124,18,122,23,"useAuth"],[124,19,122,23],[124,21,122,26],[125,4,122,26,"_s2"],[125,7,122,26],[126,4,123,2],[126,10,123,8,"context"],[126,17,123,15],[126,20,123,18],[126,24,123,18,"useContext"],[126,30,123,28],[126,31,123,28,"useContext"],[126,41,123,28],[126,43,123,29,"AuthContext"],[126,54,123,40],[126,55,123,41],[127,4,124,2],[127,8,124,6,"context"],[127,15,124,13],[127,20,124,18,"undefined"],[127,29,124,27],[127,31,124,29],[128,6,125,4],[128,12,125,10],[128,16,125,14,"Error"],[128,21,125,19],[128,22,125,20],[128,67,125,65],[128,68,125,66],[129,4,126,2],[130,4,127,2],[130,11,127,9,"context"],[130,18,127,16],[131,2,128,0],[132,2,128,1,"_s2"],[132,5,128,1],[132,6,122,16,"useAuth"],[132,13,122,23],[133,2,130,0],[133,6,130,0,"_default"],[133,14,130,0],[133,17,130,15,"AuthContext"],[133,28,130,26],[134,2,130,27],[134,6,130,27,"_c"],[134,8,130,27],[135,2,130,27,"$RefreshReg$"],[135,14,130,27],[135,15,130,27,"_c"],[135,17,130,27],[136,0,130,27],[136,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","setState$argument_0","logout","refreshUser","useAuth"],"mappings":"AAA;OCyB;YCQ;GDE;0BEE;GF6B;4BGE;aCE,sCD;eCa,uCD;GHG;6BKE;aDC,sCC;GLW;kCME;aFE,2BE;GNC;CDc;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}