{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":81},"end":{"line":4,"column":102,"index":183}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":184},"end":{"line":5,"column":52,"index":236}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(); // AUTH CONTEXT\n  // Provides authentication state and methods throughout the app\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [state, setState] = (0, _react.useState)({\n      user: null,\n      isLoading: true,\n      isAuthenticated: false\n    });\n\n    // Check for existing session on mount\n    (0, _react.useEffect)(() => {\n      checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async () => {\n      try {\n        const isAuth = await _servicesApi.authApi.isAuthenticated();\n        if (isAuth) {\n          const user = await _servicesApi.authApi.getCurrentUser();\n          setState({\n            user,\n            isLoading: false,\n            isAuthenticated: !!user\n          });\n        } else {\n          setState({\n            user: null,\n            isLoading: false,\n            isAuthenticated: false\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    };\n    const login = (0, _react.useCallback)(async credentials => {\n      console.log('Login called with:', credentials.email);\n      setState(prev => Object.assign({}, prev, {\n        isLoading: true\n      }));\n      try {\n        console.log('Calling authApi.login...');\n        const response = await _servicesApi.authApi.login(credentials);\n        console.log('Login successful, user:', response.user?.email);\n        setState({\n          user: response.user,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Login failed:', error);\n        setState(prev => Object.assign({}, prev, {\n          isLoading: false\n        }));\n        throw error;\n      }\n    }, []);\n    const logout = (0, _react.useCallback)(async () => {\n      setState(prev => Object.assign({}, prev, {\n        isLoading: true\n      }));\n      try {\n        await _servicesApi.authApi.logout();\n      } finally {\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    }, []);\n    const refreshUser = (0, _react.useCallback)(async () => {\n      const user = await _servicesApi.authApi.getCurrentUser();\n      setState(prev => Object.assign({}, prev, {\n        user\n      }));\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: Object.assign({}, state, {\n        login,\n        logout,\n        refreshUser\n      }),\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"oFydYfIcJV58DLvI+bERQs+y21U=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _default = AuthContext;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":132,"map":[[6,26,1,0],[7,2,2,0],[8,2,2,0,"Object"],[8,8,2,0],[8,9,2,0,"defineProperty"],[8,23,2,0],[8,24,2,0,"exports"],[8,31,2,0],[9,4,2,0,"value"],[9,9,2,0],[10,2,2,0],[11,2,126,0,"Object"],[11,8,126,0],[11,9,126,0,"defineProperty"],[11,23,126,0],[11,24,126,0,"exports"],[11,31,126,0],[12,4,126,0,"enumerable"],[12,14,126,0],[13,4,126,0,"get"],[13,7,126,0],[13,18,126,0,"get"],[13,19,126,0],[14,6,126,0],[14,13,126,0,"_default"],[14,21,126,0],[15,4,126,0],[16,2,126,0],[17,2,26,0,"exports"],[17,9,26,0],[17,10,26,0,"AuthProvider"],[17,22,26,0],[17,25,26,0,"AuthProvider"],[17,37,26,0],[18,2,118,0,"exports"],[18,9,118,0],[18,10,118,0,"useAuth"],[18,17,118,0],[18,20,118,0,"useAuth"],[18,27,118,0],[19,2,4,0],[19,6,4,0,"_react"],[19,12,4,0],[19,15,4,0,"require"],[19,22,4,0],[19,23,4,0,"_dependencyMap"],[19,37,4,0],[20,2,5,0],[20,6,5,0,"_servicesApi"],[20,18,5,0],[20,21,5,0,"require"],[20,28,5,0],[20,29,5,0,"_dependencyMap"],[20,43,5,0],[21,2,5,52],[21,6,5,52,"_reactJsxDevRuntime"],[21,25,5,52],[21,28,5,52,"require"],[21,35,5,52],[21,36,5,52,"_dependencyMap"],[21,50,5,52],[22,2,20,0],[22,8,20,6,"AuthContext"],[22,19,20,17],[22,35,20,20],[22,39,20,20,"createContext"],[22,45,20,33],[22,46,20,33,"createContext"],[22,59,20,33],[22,61,20,63,"undefined"],[22,70,20,72],[22,71,20,73],[23,2,26,7],[23,11,26,16,"AuthProvider"],[23,23,26,28,"AuthProvider"],[23,24,26,29],[24,4,26,31,"children"],[25,2,26,59],[25,3,26,60],[25,5,26,62],[26,4,26,62,"_s"],[26,6,26,62],[27,4,27,2],[27,10,27,8],[27,11,27,9,"state"],[27,16,27,14],[27,18,27,16,"setState"],[27,26,27,24],[27,27,27,25],[27,30,27,28],[27,34,27,28,"useState"],[27,40,27,36],[27,41,27,36,"useState"],[27,49,27,36],[27,51,27,48],[28,6,28,4,"user"],[28,10,28,8],[28,12,28,10],[28,16,28,14],[29,6,29,4,"isLoading"],[29,15,29,13],[29,17,29,15],[29,21,29,19],[30,6,30,4,"isAuthenticated"],[30,21,30,19],[30,23,30,21],[31,4,31,2],[31,5,31,3],[31,6,31,4],[33,4,33,2],[34,4,34,2],[34,8,34,2,"useEffect"],[34,14,34,11],[34,15,34,11,"useEffect"],[34,24,34,11],[34,26,34,12],[34,32,34,18],[35,6,35,4,"checkAuthStatus"],[35,21,35,19],[35,22,35,20],[35,23,35,21],[36,4,36,2],[36,5,36,3],[36,7,36,5],[36,9,36,7],[36,10,36,8],[37,4,38,2],[37,10,38,8,"checkAuthStatus"],[37,25,38,23],[37,28,38,26],[37,34,38,26,"checkAuthStatus"],[37,35,38,26],[37,40,38,38],[38,6,39,4],[38,10,39,8],[39,8,40,6],[39,14,40,12,"isAuth"],[39,20,40,18],[39,23,40,21],[39,29,40,27,"authApi"],[39,41,40,34],[39,42,40,34,"authApi"],[39,49,40,34],[39,50,40,35,"isAuthenticated"],[39,65,40,50],[39,66,40,51],[39,67,40,52],[40,8,41,6],[40,12,41,10,"isAuth"],[40,18,41,16],[40,20,41,18],[41,10,42,8],[41,16,42,14,"user"],[41,20,42,18],[41,23,42,21],[41,29,42,27,"authApi"],[41,41,42,34],[41,42,42,34,"authApi"],[41,49,42,34],[41,50,42,35,"getCurrentUser"],[41,64,42,49],[41,65,42,50],[41,66,42,51],[42,10,43,8,"setState"],[42,18,43,16],[42,19,43,17],[43,12,44,10,"user"],[43,16,44,14],[44,12,45,10,"isLoading"],[44,21,45,19],[44,23,45,21],[44,28,45,26],[45,12,46,10,"isAuthenticated"],[45,27,46,25],[45,29,46,27],[45,30,46,28],[45,31,46,29,"user"],[46,10,47,8],[46,11,47,9],[46,12,47,10],[47,8,48,6],[47,9,48,7],[47,15,48,13],[48,10,49,8,"setState"],[48,18,49,16],[48,19,49,17],[49,12,50,10,"user"],[49,16,50,14],[49,18,50,16],[49,22,50,20],[50,12,51,10,"isLoading"],[50,21,51,19],[50,23,51,21],[50,28,51,26],[51,12,52,10,"isAuthenticated"],[51,27,52,25],[51,29,52,27],[52,10,53,8],[52,11,53,9],[52,12,53,10],[53,8,54,6],[54,6,55,4],[54,7,55,5],[54,8,55,6],[54,15,55,13,"error"],[54,20,55,18],[54,22,55,20],[55,8,56,6,"console"],[55,15,56,13],[55,16,56,14,"error"],[55,21,56,19],[55,22,56,20],[55,42,56,40],[55,44,56,42,"error"],[55,49,56,47],[55,50,56,48],[56,8,57,6,"setState"],[56,16,57,14],[56,17,57,15],[57,10,58,8,"user"],[57,14,58,12],[57,16,58,14],[57,20,58,18],[58,10,59,8,"isLoading"],[58,19,59,17],[58,21,59,19],[58,26,59,24],[59,10,60,8,"isAuthenticated"],[59,25,60,23],[59,27,60,25],[60,8,61,6],[60,9,61,7],[60,10,61,8],[61,6,62,4],[62,4,63,2],[62,5,63,3],[63,4,65,2],[63,10,65,8,"login"],[63,15,65,13],[63,18,65,16],[63,22,65,16,"useCallback"],[63,28,65,27],[63,29,65,27,"useCallback"],[63,40,65,27],[63,42,65,28],[63,48,65,35,"credentials"],[63,59,65,60],[63,63,65,65],[64,6,66,4,"console"],[64,13,66,11],[64,14,66,12,"log"],[64,17,66,15],[64,18,66,16],[64,38,66,36],[64,40,66,38,"credentials"],[64,51,66,49],[64,52,66,50,"email"],[64,57,66,55],[64,58,66,56],[65,6,67,4,"setState"],[65,14,67,12],[65,15,67,13,"prev"],[65,19,67,17],[65,23,67,17,"Object"],[65,29,67,17],[65,30,67,17,"assign"],[65,36,67,17],[65,41,67,27,"prev"],[65,45,67,31],[66,8,67,33,"isLoading"],[66,17,67,42],[66,19,67,44],[67,6,67,48],[67,8,67,51],[67,9,67,52],[68,6,69,4],[68,10,69,8],[69,8,70,6,"console"],[69,15,70,13],[69,16,70,14,"log"],[69,19,70,17],[69,20,70,18],[69,46,70,44],[69,47,70,45],[70,8,71,6],[70,14,71,12,"response"],[70,22,71,20],[70,25,71,23],[70,31,71,29,"authApi"],[70,43,71,36],[70,44,71,36,"authApi"],[70,51,71,36],[70,52,71,37,"login"],[70,57,71,42],[70,58,71,43,"credentials"],[70,69,71,54],[70,70,71,55],[71,8,72,6,"console"],[71,15,72,13],[71,16,72,14,"log"],[71,19,72,17],[71,20,72,18],[71,45,72,43],[71,47,72,45,"response"],[71,55,72,53],[71,56,72,54,"user"],[71,60,72,58],[71,62,72,60,"email"],[71,67,72,65],[71,68,72,66],[72,8,73,6,"setState"],[72,16,73,14],[72,17,73,15],[73,10,74,8,"user"],[73,14,74,12],[73,16,74,14,"response"],[73,24,74,22],[73,25,74,23,"user"],[73,29,74,27],[74,10,75,8,"isLoading"],[74,19,75,17],[74,21,75,19],[74,26,75,24],[75,10,76,8,"isAuthenticated"],[75,25,76,23],[75,27,76,25],[76,8,77,6],[76,9,77,7],[76,10,77,8],[77,6,78,4],[77,7,78,5],[77,8,78,6],[77,15,78,13,"error"],[77,20,78,18],[77,22,78,20],[78,8,79,6,"console"],[78,15,79,13],[78,16,79,14,"error"],[78,21,79,19],[78,22,79,20],[78,37,79,35],[78,39,79,37,"error"],[78,44,79,42],[78,45,79,43],[79,8,80,6,"setState"],[79,16,80,14],[79,17,80,15,"prev"],[79,21,80,19],[79,25,80,19,"Object"],[79,31,80,19],[79,32,80,19,"assign"],[79,38,80,19],[79,43,80,29,"prev"],[79,47,80,33],[80,10,80,35,"isLoading"],[80,19,80,44],[80,21,80,46],[81,8,80,51],[81,10,80,54],[81,11,80,55],[82,8,81,6],[82,14,81,12,"error"],[82,19,81,17],[83,6,82,4],[84,4,83,2],[84,5,83,3],[84,7,83,5],[84,9,83,7],[84,10,83,8],[85,4,85,2],[85,10,85,8,"logout"],[85,16,85,14],[85,19,85,17],[85,23,85,17,"useCallback"],[85,29,85,28],[85,30,85,28,"useCallback"],[85,41,85,28],[85,43,85,29],[85,55,85,41],[86,6,86,4,"setState"],[86,14,86,12],[86,15,86,13,"prev"],[86,19,86,17],[86,23,86,17,"Object"],[86,29,86,17],[86,30,86,17,"assign"],[86,36,86,17],[86,41,86,27,"prev"],[86,45,86,31],[87,8,86,33,"isLoading"],[87,17,86,42],[87,19,86,44],[88,6,86,48],[88,8,86,51],[88,9,86,52],[89,6,88,4],[89,10,88,8],[90,8,89,6],[90,14,89,12,"authApi"],[90,26,89,19],[90,27,89,19,"authApi"],[90,34,89,19],[90,35,89,20,"logout"],[90,41,89,26],[90,42,89,27],[90,43,89,28],[91,6,90,4],[91,7,90,5],[91,16,90,14],[92,8,91,6,"setState"],[92,16,91,14],[92,17,91,15],[93,10,92,8,"user"],[93,14,92,12],[93,16,92,14],[93,20,92,18],[94,10,93,8,"isLoading"],[94,19,93,17],[94,21,93,19],[94,26,93,24],[95,10,94,8,"isAuthenticated"],[95,25,94,23],[95,27,94,25],[96,8,95,6],[96,9,95,7],[96,10,95,8],[97,6,96,4],[98,4,97,2],[98,5,97,3],[98,7,97,5],[98,9,97,7],[98,10,97,8],[99,4,99,2],[99,10,99,8,"refreshUser"],[99,21,99,19],[99,24,99,22],[99,28,99,22,"useCallback"],[99,34,99,33],[99,35,99,33,"useCallback"],[99,46,99,33],[99,48,99,34],[99,60,99,46],[100,6,100,4],[100,12,100,10,"user"],[100,16,100,14],[100,19,100,17],[100,25,100,23,"authApi"],[100,37,100,30],[100,38,100,30,"authApi"],[100,45,100,30],[100,46,100,31,"getCurrentUser"],[100,60,100,45],[100,61,100,46],[100,62,100,47],[101,6,101,4,"setState"],[101,14,101,12],[101,15,101,13,"prev"],[101,19,101,17],[101,23,101,17,"Object"],[101,29,101,17],[101,30,101,17,"assign"],[101,36,101,17],[101,41,101,27,"prev"],[101,45,101,31],[102,8,101,33,"user"],[103,6,101,37],[103,8,101,40],[103,9,101,41],[104,4,102,2],[104,5,102,3],[104,7,102,5],[104,9,102,7],[104,10,102,8],[105,4,104,2],[105,24,105,4],[105,28,105,4,"_reactJsxDevRuntime"],[105,47,105,4],[105,48,105,4,"jsxDEV"],[105,54,105,4],[105,56,105,5,"AuthContext"],[105,67,105,16],[105,68,105,17,"Provider"],[105,76,105,25],[106,6,106,6,"value"],[106,11,106,11],[106,13,106,11,"Object"],[106,19,106,11],[106,20,106,11,"assign"],[106,26,106,11],[106,31,107,11,"state"],[106,36,107,16],[107,8,108,8,"login"],[107,13,108,13],[108,8,109,8,"logout"],[108,14,109,14],[109,8,110,8,"refreshUser"],[110,6,110,19],[110,8,111,8],[111,6,111,8,"children"],[111,14,111,8],[111,16,113,7,"children"],[112,4,113,15],[113,6,113,15,"fileName"],[113,14,113,15],[113,16,113,15,"_jsxFileName"],[113,28,113,15],[114,6,113,15,"lineNumber"],[114,16,113,15],[115,6,113,15,"columnNumber"],[115,18,113,15],[116,4,113,15],[116,11,114,26],[116,12,114,27],[117,2,116,0],[118,2,116,1,"_s"],[118,4,116,1],[118,5,26,16,"AuthProvider"],[118,17,26,28],[119,2,26,28,"_c"],[119,4,26,28],[119,7,26,16,"AuthProvider"],[119,19,26,28],[120,2,118,7],[120,11,118,16,"useAuth"],[120,18,118,23,"useAuth"],[120,19,118,23],[120,21,118,26],[121,4,118,26,"_s2"],[121,7,118,26],[122,4,119,2],[122,10,119,8,"context"],[122,17,119,15],[122,20,119,18],[122,24,119,18,"useContext"],[122,30,119,28],[122,31,119,28,"useContext"],[122,41,119,28],[122,43,119,29,"AuthContext"],[122,54,119,40],[122,55,119,41],[123,4,120,2],[123,8,120,6,"context"],[123,15,120,13],[123,20,120,18,"undefined"],[123,29,120,27],[123,31,120,29],[124,6,121,4],[124,12,121,10],[124,16,121,14,"Error"],[124,21,121,19],[124,22,121,20],[124,67,121,65],[124,68,121,66],[125,4,122,2],[126,4,123,2],[126,11,123,9,"context"],[126,18,123,16],[127,2,124,0],[128,2,124,1,"_s2"],[128,5,124,1],[128,6,118,16,"useAuth"],[128,13,118,23],[129,2,126,0],[129,6,126,0,"_default"],[129,14,126,0],[129,17,126,15,"AuthContext"],[129,28,126,26],[130,2,126,27],[130,6,126,27,"_c"],[130,8,126,27],[131,2,126,27,"$RefreshReg$"],[131,14,126,27],[131,15,126,27,"_c"],[131,17,126,27],[132,0,126,27],[132,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","setState$argument_0","logout","refreshUser","useAuth"],"mappings":"AAA;OCyB;YCQ;GDE;0BEE;GFyB;4BGE;aCE,sCD;eCa,uCD;GHG;6BKE;aDC,sCC;GLW;kCME;aFE,2BE;GNC;CDc;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}