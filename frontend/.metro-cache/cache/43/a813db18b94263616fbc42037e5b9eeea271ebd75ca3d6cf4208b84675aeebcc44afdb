{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":81},"end":{"line":4,"column":102,"index":183}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":184},"end":{"line":5,"column":52,"index":236}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(); // AUTH CONTEXT\n  // Provides authentication state and methods throughout the app\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [state, setState] = (0, _react.useState)({\n      user: null,\n      isLoading: true,\n      isAuthenticated: false\n    });\n\n    // Check for existing session on mount\n    (0, _react.useEffect)(() => {\n      checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async () => {\n      try {\n        const isAuth = await _servicesApi.authApi.isAuthenticated();\n        if (isAuth) {\n          const user = await _servicesApi.authApi.getCurrentUser();\n          setState({\n            user,\n            isLoading: false,\n            isAuthenticated: !!user\n          });\n        } else {\n          setState({\n            user: null,\n            isLoading: false,\n            isAuthenticated: false\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    };\n    const login = (0, _react.useCallback)(async credentials => {\n      setState(prev => Object.assign({}, prev, {\n        isLoading: true\n      }));\n      try {\n        const response = await _servicesApi.authApi.login(credentials);\n        setState({\n          user: response.user,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        setState(prev => Object.assign({}, prev, {\n          isLoading: false\n        }));\n        throw error;\n      }\n    }, []);\n    const logout = (0, _react.useCallback)(async () => {\n      setState(prev => Object.assign({}, prev, {\n        isLoading: true\n      }));\n      try {\n        await _servicesApi.authApi.logout();\n      } finally {\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    }, []);\n    const refreshUser = (0, _react.useCallback)(async () => {\n      const user = await _servicesApi.authApi.getCurrentUser();\n      setState(prev => Object.assign({}, prev, {\n        user\n      }));\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: Object.assign({}, state, {\n        login,\n        logout,\n        refreshUser\n      }),\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"oFydYfIcJV58DLvI+bERQs+y21U=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _default = AuthContext;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":128,"map":[[6,26,1,0],[7,2,2,0],[8,2,2,0,"Object"],[8,8,2,0],[8,9,2,0,"defineProperty"],[8,23,2,0],[8,24,2,0,"exports"],[8,31,2,0],[9,4,2,0,"value"],[9,9,2,0],[10,2,2,0],[11,2,122,0,"Object"],[11,8,122,0],[11,9,122,0,"defineProperty"],[11,23,122,0],[11,24,122,0,"exports"],[11,31,122,0],[12,4,122,0,"enumerable"],[12,14,122,0],[13,4,122,0,"get"],[13,7,122,0],[13,18,122,0,"get"],[13,19,122,0],[14,6,122,0],[14,13,122,0,"_default"],[14,21,122,0],[15,4,122,0],[16,2,122,0],[17,2,26,0,"exports"],[17,9,26,0],[17,10,26,0,"AuthProvider"],[17,22,26,0],[17,25,26,0,"AuthProvider"],[17,37,26,0],[18,2,114,0,"exports"],[18,9,114,0],[18,10,114,0,"useAuth"],[18,17,114,0],[18,20,114,0,"useAuth"],[18,27,114,0],[19,2,4,0],[19,6,4,0,"_react"],[19,12,4,0],[19,15,4,0,"require"],[19,22,4,0],[19,23,4,0,"_dependencyMap"],[19,37,4,0],[20,2,5,0],[20,6,5,0,"_servicesApi"],[20,18,5,0],[20,21,5,0,"require"],[20,28,5,0],[20,29,5,0,"_dependencyMap"],[20,43,5,0],[21,2,5,52],[21,6,5,52,"_reactJsxDevRuntime"],[21,25,5,52],[21,28,5,52,"require"],[21,35,5,52],[21,36,5,52,"_dependencyMap"],[21,50,5,52],[22,2,20,0],[22,8,20,6,"AuthContext"],[22,19,20,17],[22,35,20,20],[22,39,20,20,"createContext"],[22,45,20,33],[22,46,20,33,"createContext"],[22,59,20,33],[22,61,20,63,"undefined"],[22,70,20,72],[22,71,20,73],[23,2,26,7],[23,11,26,16,"AuthProvider"],[23,23,26,28,"AuthProvider"],[23,24,26,29],[24,4,26,31,"children"],[25,2,26,59],[25,3,26,60],[25,5,26,62],[26,4,26,62,"_s"],[26,6,26,62],[27,4,27,2],[27,10,27,8],[27,11,27,9,"state"],[27,16,27,14],[27,18,27,16,"setState"],[27,26,27,24],[27,27,27,25],[27,30,27,28],[27,34,27,28,"useState"],[27,40,27,36],[27,41,27,36,"useState"],[27,49,27,36],[27,51,27,48],[28,6,28,4,"user"],[28,10,28,8],[28,12,28,10],[28,16,28,14],[29,6,29,4,"isLoading"],[29,15,29,13],[29,17,29,15],[29,21,29,19],[30,6,30,4,"isAuthenticated"],[30,21,30,19],[30,23,30,21],[31,4,31,2],[31,5,31,3],[31,6,31,4],[33,4,33,2],[34,4,34,2],[34,8,34,2,"useEffect"],[34,14,34,11],[34,15,34,11,"useEffect"],[34,24,34,11],[34,26,34,12],[34,32,34,18],[35,6,35,4,"checkAuthStatus"],[35,21,35,19],[35,22,35,20],[35,23,35,21],[36,4,36,2],[36,5,36,3],[36,7,36,5],[36,9,36,7],[36,10,36,8],[37,4,38,2],[37,10,38,8,"checkAuthStatus"],[37,25,38,23],[37,28,38,26],[37,34,38,26,"checkAuthStatus"],[37,35,38,26],[37,40,38,38],[38,6,39,4],[38,10,39,8],[39,8,40,6],[39,14,40,12,"isAuth"],[39,20,40,18],[39,23,40,21],[39,29,40,27,"authApi"],[39,41,40,34],[39,42,40,34,"authApi"],[39,49,40,34],[39,50,40,35,"isAuthenticated"],[39,65,40,50],[39,66,40,51],[39,67,40,52],[40,8,41,6],[40,12,41,10,"isAuth"],[40,18,41,16],[40,20,41,18],[41,10,42,8],[41,16,42,14,"user"],[41,20,42,18],[41,23,42,21],[41,29,42,27,"authApi"],[41,41,42,34],[41,42,42,34,"authApi"],[41,49,42,34],[41,50,42,35,"getCurrentUser"],[41,64,42,49],[41,65,42,50],[41,66,42,51],[42,10,43,8,"setState"],[42,18,43,16],[42,19,43,17],[43,12,44,10,"user"],[43,16,44,14],[44,12,45,10,"isLoading"],[44,21,45,19],[44,23,45,21],[44,28,45,26],[45,12,46,10,"isAuthenticated"],[45,27,46,25],[45,29,46,27],[45,30,46,28],[45,31,46,29,"user"],[46,10,47,8],[46,11,47,9],[46,12,47,10],[47,8,48,6],[47,9,48,7],[47,15,48,13],[48,10,49,8,"setState"],[48,18,49,16],[48,19,49,17],[49,12,50,10,"user"],[49,16,50,14],[49,18,50,16],[49,22,50,20],[50,12,51,10,"isLoading"],[50,21,51,19],[50,23,51,21],[50,28,51,26],[51,12,52,10,"isAuthenticated"],[51,27,52,25],[51,29,52,27],[52,10,53,8],[52,11,53,9],[52,12,53,10],[53,8,54,6],[54,6,55,4],[54,7,55,5],[54,8,55,6],[54,15,55,13,"error"],[54,20,55,18],[54,22,55,20],[55,8,56,6,"console"],[55,15,56,13],[55,16,56,14,"error"],[55,21,56,19],[55,22,56,20],[55,42,56,40],[55,44,56,42,"error"],[55,49,56,47],[55,50,56,48],[56,8,57,6,"setState"],[56,16,57,14],[56,17,57,15],[57,10,58,8,"user"],[57,14,58,12],[57,16,58,14],[57,20,58,18],[58,10,59,8,"isLoading"],[58,19,59,17],[58,21,59,19],[58,26,59,24],[59,10,60,8,"isAuthenticated"],[59,25,60,23],[59,27,60,25],[60,8,61,6],[60,9,61,7],[60,10,61,8],[61,6,62,4],[62,4,63,2],[62,5,63,3],[63,4,65,2],[63,10,65,8,"login"],[63,15,65,13],[63,18,65,16],[63,22,65,16,"useCallback"],[63,28,65,27],[63,29,65,27,"useCallback"],[63,40,65,27],[63,42,65,28],[63,48,65,35,"credentials"],[63,59,65,60],[63,63,65,65],[64,6,66,4,"setState"],[64,14,66,12],[64,15,66,13,"prev"],[64,19,66,17],[64,23,66,17,"Object"],[64,29,66,17],[64,30,66,17,"assign"],[64,36,66,17],[64,41,66,27,"prev"],[64,45,66,31],[65,8,66,33,"isLoading"],[65,17,66,42],[65,19,66,44],[66,6,66,48],[66,8,66,51],[66,9,66,52],[67,6,68,4],[67,10,68,8],[68,8,69,6],[68,14,69,12,"response"],[68,22,69,20],[68,25,69,23],[68,31,69,29,"authApi"],[68,43,69,36],[68,44,69,36,"authApi"],[68,51,69,36],[68,52,69,37,"login"],[68,57,69,42],[68,58,69,43,"credentials"],[68,69,69,54],[68,70,69,55],[69,8,70,6,"setState"],[69,16,70,14],[69,17,70,15],[70,10,71,8,"user"],[70,14,71,12],[70,16,71,14,"response"],[70,24,71,22],[70,25,71,23,"user"],[70,29,71,27],[71,10,72,8,"isLoading"],[71,19,72,17],[71,21,72,19],[71,26,72,24],[72,10,73,8,"isAuthenticated"],[72,25,73,23],[72,27,73,25],[73,8,74,6],[73,9,74,7],[73,10,74,8],[74,6,75,4],[74,7,75,5],[74,8,75,6],[74,15,75,13,"error"],[74,20,75,18],[74,22,75,20],[75,8,76,6,"setState"],[75,16,76,14],[75,17,76,15,"prev"],[75,21,76,19],[75,25,76,19,"Object"],[75,31,76,19],[75,32,76,19,"assign"],[75,38,76,19],[75,43,76,29,"prev"],[75,47,76,33],[76,10,76,35,"isLoading"],[76,19,76,44],[76,21,76,46],[77,8,76,51],[77,10,76,54],[77,11,76,55],[78,8,77,6],[78,14,77,12,"error"],[78,19,77,17],[79,6,78,4],[80,4,79,2],[80,5,79,3],[80,7,79,5],[80,9,79,7],[80,10,79,8],[81,4,81,2],[81,10,81,8,"logout"],[81,16,81,14],[81,19,81,17],[81,23,81,17,"useCallback"],[81,29,81,28],[81,30,81,28,"useCallback"],[81,41,81,28],[81,43,81,29],[81,55,81,41],[82,6,82,4,"setState"],[82,14,82,12],[82,15,82,13,"prev"],[82,19,82,17],[82,23,82,17,"Object"],[82,29,82,17],[82,30,82,17,"assign"],[82,36,82,17],[82,41,82,27,"prev"],[82,45,82,31],[83,8,82,33,"isLoading"],[83,17,82,42],[83,19,82,44],[84,6,82,48],[84,8,82,51],[84,9,82,52],[85,6,84,4],[85,10,84,8],[86,8,85,6],[86,14,85,12,"authApi"],[86,26,85,19],[86,27,85,19,"authApi"],[86,34,85,19],[86,35,85,20,"logout"],[86,41,85,26],[86,42,85,27],[86,43,85,28],[87,6,86,4],[87,7,86,5],[87,16,86,14],[88,8,87,6,"setState"],[88,16,87,14],[88,17,87,15],[89,10,88,8,"user"],[89,14,88,12],[89,16,88,14],[89,20,88,18],[90,10,89,8,"isLoading"],[90,19,89,17],[90,21,89,19],[90,26,89,24],[91,10,90,8,"isAuthenticated"],[91,25,90,23],[91,27,90,25],[92,8,91,6],[92,9,91,7],[92,10,91,8],[93,6,92,4],[94,4,93,2],[94,5,93,3],[94,7,93,5],[94,9,93,7],[94,10,93,8],[95,4,95,2],[95,10,95,8,"refreshUser"],[95,21,95,19],[95,24,95,22],[95,28,95,22,"useCallback"],[95,34,95,33],[95,35,95,33,"useCallback"],[95,46,95,33],[95,48,95,34],[95,60,95,46],[96,6,96,4],[96,12,96,10,"user"],[96,16,96,14],[96,19,96,17],[96,25,96,23,"authApi"],[96,37,96,30],[96,38,96,30,"authApi"],[96,45,96,30],[96,46,96,31,"getCurrentUser"],[96,60,96,45],[96,61,96,46],[96,62,96,47],[97,6,97,4,"setState"],[97,14,97,12],[97,15,97,13,"prev"],[97,19,97,17],[97,23,97,17,"Object"],[97,29,97,17],[97,30,97,17,"assign"],[97,36,97,17],[97,41,97,27,"prev"],[97,45,97,31],[98,8,97,33,"user"],[99,6,97,37],[99,8,97,40],[99,9,97,41],[100,4,98,2],[100,5,98,3],[100,7,98,5],[100,9,98,7],[100,10,98,8],[101,4,100,2],[101,24,101,4],[101,28,101,4,"_reactJsxDevRuntime"],[101,47,101,4],[101,48,101,4,"jsxDEV"],[101,54,101,4],[101,56,101,5,"AuthContext"],[101,67,101,16],[101,68,101,17,"Provider"],[101,76,101,25],[102,6,102,6,"value"],[102,11,102,11],[102,13,102,11,"Object"],[102,19,102,11],[102,20,102,11,"assign"],[102,26,102,11],[102,31,103,11,"state"],[102,36,103,16],[103,8,104,8,"login"],[103,13,104,13],[104,8,105,8,"logout"],[104,14,105,14],[105,8,106,8,"refreshUser"],[106,6,106,19],[106,8,107,8],[107,6,107,8,"children"],[107,14,107,8],[107,16,109,7,"children"],[108,4,109,15],[109,6,109,15,"fileName"],[109,14,109,15],[109,16,109,15,"_jsxFileName"],[109,28,109,15],[110,6,109,15,"lineNumber"],[110,16,109,15],[111,6,109,15,"columnNumber"],[111,18,109,15],[112,4,109,15],[112,11,110,26],[112,12,110,27],[113,2,112,0],[114,2,112,1,"_s"],[114,4,112,1],[114,5,26,16,"AuthProvider"],[114,17,26,28],[115,2,26,28,"_c"],[115,4,26,28],[115,7,26,16,"AuthProvider"],[115,19,26,28],[116,2,114,7],[116,11,114,16,"useAuth"],[116,18,114,23,"useAuth"],[116,19,114,23],[116,21,114,26],[117,4,114,26,"_s2"],[117,7,114,26],[118,4,115,2],[118,10,115,8,"context"],[118,17,115,15],[118,20,115,18],[118,24,115,18,"useContext"],[118,30,115,28],[118,31,115,28,"useContext"],[118,41,115,28],[118,43,115,29,"AuthContext"],[118,54,115,40],[118,55,115,41],[119,4,116,2],[119,8,116,6,"context"],[119,15,116,13],[119,20,116,18,"undefined"],[119,29,116,27],[119,31,116,29],[120,6,117,4],[120,12,117,10],[120,16,117,14,"Error"],[120,21,117,19],[120,22,117,20],[120,67,117,65],[120,68,117,66],[121,4,118,2],[122,4,119,2],[122,11,119,9,"context"],[122,18,119,16],[123,2,120,0],[124,2,120,1,"_s2"],[124,5,120,1],[124,6,114,16,"useAuth"],[124,13,114,23],[125,2,122,0],[125,6,122,0,"_default"],[125,14,122,0],[125,17,122,15,"AuthContext"],[125,28,122,26],[126,2,122,27],[126,6,122,27,"_c"],[126,8,122,27],[127,2,122,27,"$RefreshReg$"],[127,14,122,27],[127,15,122,27,"_c"],[127,17,122,27],[128,0,122,27],[128,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","setState$argument_0","logout","refreshUser","useAuth"],"mappings":"AAA;OCyB;YCQ;GDE;0BEE;GFyB;4BGE;aCC,sCD;eCU,uCD;GHG;6BKE;aDC,sCC;GLW;kCME;aFE,2BE;GNC;CDc;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}