{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":81},"end":{"line":4,"column":102,"index":183}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":184},"end":{"line":5,"column":52,"index":236}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(); // AUTH CONTEXT\n  // Provides authentication state and methods throughout the app\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [state, setState] = (0, _react.useState)({\n      user: null,\n      isLoading: true,\n      isAuthenticated: false\n    });\n\n    // Check for existing session on mount\n    (0, _react.useEffect)(() => {\n      checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async () => {\n      console.log('Checking auth status...');\n      try {\n        const isAuth = await _servicesApi.authApi.isAuthenticated();\n        console.log('Is authenticated:', isAuth);\n        if (isAuth) {\n          const user = await _servicesApi.authApi.getCurrentUser();\n          console.log('Found user:', user?.email);\n          setState({\n            user,\n            isLoading: false,\n            isAuthenticated: !!user\n          });\n        } else {\n          console.log('No auth token found');\n          setState({\n            user: null,\n            isLoading: false,\n            isAuthenticated: false\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    };\n    const login = (0, _react.useCallback)(async credentials => {\n      console.log('Login called with:', credentials.email);\n      setState(prev => ({\n        ...prev,\n        isLoading: true\n      }));\n      try {\n        console.log('Calling authApi.login...');\n        const response = await _servicesApi.authApi.login(credentials);\n        console.log('Login successful, user:', response.user?.email);\n        setState({\n          user: response.user,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Login failed:', error);\n        setState(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n        throw error;\n      }\n    }, []);\n    const logout = (0, _react.useCallback)(async () => {\n      setState(prev => ({\n        ...prev,\n        isLoading: true\n      }));\n      try {\n        await _servicesApi.authApi.logout();\n      } finally {\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    }, []);\n    const refreshUser = (0, _react.useCallback)(async () => {\n      const user = await _servicesApi.authApi.getCurrentUser();\n      setState(prev => ({\n        ...prev,\n        user\n      }));\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        ...state,\n        login,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"oFydYfIcJV58DLvI+bERQs+y21U=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _default = AuthContext;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":141,"map":[[6,26,1,0],[7,2,2,0],[8,2,2,0,"Object"],[8,8,2,0],[8,9,2,0,"defineProperty"],[8,23,2,0],[8,24,2,0,"exports"],[8,31,2,0],[9,4,2,0,"value"],[9,9,2,0],[10,2,2,0],[11,2,130,0,"Object"],[11,8,130,0],[11,9,130,0,"defineProperty"],[11,23,130,0],[11,24,130,0,"exports"],[11,31,130,0],[12,4,130,0,"enumerable"],[12,14,130,0],[13,4,130,0,"get"],[13,7,130,0],[13,18,130,0,"get"],[13,19,130,0],[14,6,130,0],[14,13,130,0,"_default"],[14,21,130,0],[15,4,130,0],[16,2,130,0],[17,2,26,0,"exports"],[17,9,26,0],[17,10,26,0,"AuthProvider"],[17,22,26,0],[17,25,26,0,"AuthProvider"],[17,37,26,0],[18,2,122,0,"exports"],[18,9,122,0],[18,10,122,0,"useAuth"],[18,17,122,0],[18,20,122,0,"useAuth"],[18,27,122,0],[19,2,4,0],[19,6,4,0,"_react"],[19,12,4,0],[19,15,4,0,"require"],[19,22,4,0],[19,23,4,0,"_dependencyMap"],[19,37,4,0],[20,2,5,0],[20,6,5,0,"_servicesApi"],[20,18,5,0],[20,21,5,0,"require"],[20,28,5,0],[20,29,5,0,"_dependencyMap"],[20,43,5,0],[21,2,5,52],[21,6,5,52,"_reactJsxDevRuntime"],[21,25,5,52],[21,28,5,52,"require"],[21,35,5,52],[21,36,5,52,"_dependencyMap"],[21,50,5,52],[22,2,20,0],[22,8,20,6,"AuthContext"],[22,19,20,17],[22,35,20,20],[22,39,20,20,"createContext"],[22,45,20,33],[22,46,20,33,"createContext"],[22,59,20,33],[22,61,20,63,"undefined"],[22,70,20,72],[22,71,20,73],[23,2,26,7],[23,11,26,16,"AuthProvider"],[23,23,26,28,"AuthProvider"],[23,24,26,29],[24,4,26,31,"children"],[25,2,26,59],[25,3,26,60],[25,5,26,62],[26,4,26,62,"_s"],[26,6,26,62],[27,4,27,2],[27,10,27,8],[27,11,27,9,"state"],[27,16,27,14],[27,18,27,16,"setState"],[27,26,27,24],[27,27,27,25],[27,30,27,28],[27,34,27,28,"useState"],[27,40,27,36],[27,41,27,36,"useState"],[27,49,27,36],[27,51,27,48],[28,6,28,4,"user"],[28,10,28,8],[28,12,28,10],[28,16,28,14],[29,6,29,4,"isLoading"],[29,15,29,13],[29,17,29,15],[29,21,29,19],[30,6,30,4,"isAuthenticated"],[30,21,30,19],[30,23,30,21],[31,4,31,2],[31,5,31,3],[31,6,31,4],[33,4,33,2],[34,4,34,2],[34,8,34,2,"useEffect"],[34,14,34,11],[34,15,34,11,"useEffect"],[34,24,34,11],[34,26,34,12],[34,32,34,18],[35,6,35,4,"checkAuthStatus"],[35,21,35,19],[35,22,35,20],[35,23,35,21],[36,4,36,2],[36,5,36,3],[36,7,36,5],[36,9,36,7],[36,10,36,8],[37,4,38,2],[37,10,38,8,"checkAuthStatus"],[37,25,38,23],[37,28,38,26],[37,34,38,26,"checkAuthStatus"],[37,35,38,26],[37,40,38,38],[38,6,39,4,"console"],[38,13,39,11],[38,14,39,12,"log"],[38,17,39,15],[38,18,39,16],[38,43,39,41],[38,44,39,42],[39,6,40,4],[39,10,40,8],[40,8,41,6],[40,14,41,12,"isAuth"],[40,20,41,18],[40,23,41,21],[40,29,41,27,"authApi"],[40,41,41,34],[40,42,41,34,"authApi"],[40,49,41,34],[40,50,41,35,"isAuthenticated"],[40,65,41,50],[40,66,41,51],[40,67,41,52],[41,8,42,6,"console"],[41,15,42,13],[41,16,42,14,"log"],[41,19,42,17],[41,20,42,18],[41,39,42,37],[41,41,42,39,"isAuth"],[41,47,42,45],[41,48,42,46],[42,8,43,6],[42,12,43,10,"isAuth"],[42,18,43,16],[42,20,43,18],[43,10,44,8],[43,16,44,14,"user"],[43,20,44,18],[43,23,44,21],[43,29,44,27,"authApi"],[43,41,44,34],[43,42,44,34,"authApi"],[43,49,44,34],[43,50,44,35,"getCurrentUser"],[43,64,44,49],[43,65,44,50],[43,66,44,51],[44,10,45,8,"console"],[44,17,45,15],[44,18,45,16,"log"],[44,21,45,19],[44,22,45,20],[44,35,45,33],[44,37,45,35,"user"],[44,41,45,39],[44,43,45,41,"email"],[44,48,45,46],[44,49,45,47],[45,10,46,8,"setState"],[45,18,46,16],[45,19,46,17],[46,12,47,10,"user"],[46,16,47,14],[47,12,48,10,"isLoading"],[47,21,48,19],[47,23,48,21],[47,28,48,26],[48,12,49,10,"isAuthenticated"],[48,27,49,25],[48,29,49,27],[48,30,49,28],[48,31,49,29,"user"],[49,10,50,8],[49,11,50,9],[49,12,50,10],[50,8,51,6],[50,9,51,7],[50,15,51,13],[51,10,52,8,"console"],[51,17,52,15],[51,18,52,16,"log"],[51,21,52,19],[51,22,52,20],[51,43,52,41],[51,44,52,42],[52,10,53,8,"setState"],[52,18,53,16],[52,19,53,17],[53,12,54,10,"user"],[53,16,54,14],[53,18,54,16],[53,22,54,20],[54,12,55,10,"isLoading"],[54,21,55,19],[54,23,55,21],[54,28,55,26],[55,12,56,10,"isAuthenticated"],[55,27,56,25],[55,29,56,27],[56,10,57,8],[56,11,57,9],[56,12,57,10],[57,8,58,6],[58,6,59,4],[58,7,59,5],[58,8,59,6],[58,15,59,13,"error"],[58,20,59,18],[58,22,59,20],[59,8,60,6,"console"],[59,15,60,13],[59,16,60,14,"error"],[59,21,60,19],[59,22,60,20],[59,42,60,40],[59,44,60,42,"error"],[59,49,60,47],[59,50,60,48],[60,8,61,6,"setState"],[60,16,61,14],[60,17,61,15],[61,10,62,8,"user"],[61,14,62,12],[61,16,62,14],[61,20,62,18],[62,10,63,8,"isLoading"],[62,19,63,17],[62,21,63,19],[62,26,63,24],[63,10,64,8,"isAuthenticated"],[63,25,64,23],[63,27,64,25],[64,8,65,6],[64,9,65,7],[64,10,65,8],[65,6,66,4],[66,4,67,2],[66,5,67,3],[67,4,69,2],[67,10,69,8,"login"],[67,15,69,13],[67,18,69,16],[67,22,69,16,"useCallback"],[67,28,69,27],[67,29,69,27,"useCallback"],[67,40,69,27],[67,42,69,28],[67,48,69,35,"credentials"],[67,59,69,60],[67,63,69,65],[68,6,70,4,"console"],[68,13,70,11],[68,14,70,12,"log"],[68,17,70,15],[68,18,70,16],[68,38,70,36],[68,40,70,38,"credentials"],[68,51,70,49],[68,52,70,50,"email"],[68,57,70,55],[68,58,70,56],[69,6,71,4,"setState"],[69,14,71,12],[69,15,71,13,"prev"],[69,19,71,17],[69,24,71,22],[70,8,71,24],[70,11,71,27,"prev"],[70,15,71,31],[71,8,71,33,"isLoading"],[71,17,71,42],[71,19,71,44],[72,6,71,49],[72,7,71,50],[72,8,71,51],[72,9,71,52],[73,6,73,4],[73,10,73,8],[74,8,74,6,"console"],[74,15,74,13],[74,16,74,14,"log"],[74,19,74,17],[74,20,74,18],[74,46,74,44],[74,47,74,45],[75,8,75,6],[75,14,75,12,"response"],[75,22,75,20],[75,25,75,23],[75,31,75,29,"authApi"],[75,43,75,36],[75,44,75,36,"authApi"],[75,51,75,36],[75,52,75,37,"login"],[75,57,75,42],[75,58,75,43,"credentials"],[75,69,75,54],[75,70,75,55],[76,8,76,6,"console"],[76,15,76,13],[76,16,76,14,"log"],[76,19,76,17],[76,20,76,18],[76,45,76,43],[76,47,76,45,"response"],[76,55,76,53],[76,56,76,54,"user"],[76,60,76,58],[76,62,76,60,"email"],[76,67,76,65],[76,68,76,66],[77,8,77,6,"setState"],[77,16,77,14],[77,17,77,15],[78,10,78,8,"user"],[78,14,78,12],[78,16,78,14,"response"],[78,24,78,22],[78,25,78,23,"user"],[78,29,78,27],[79,10,79,8,"isLoading"],[79,19,79,17],[79,21,79,19],[79,26,79,24],[80,10,80,8,"isAuthenticated"],[80,25,80,23],[80,27,80,25],[81,8,81,6],[81,9,81,7],[81,10,81,8],[82,6,82,4],[82,7,82,5],[82,8,82,6],[82,15,82,13,"error"],[82,20,82,18],[82,22,82,20],[83,8,83,6,"console"],[83,15,83,13],[83,16,83,14,"error"],[83,21,83,19],[83,22,83,20],[83,37,83,35],[83,39,83,37,"error"],[83,44,83,42],[83,45,83,43],[84,8,84,6,"setState"],[84,16,84,14],[84,17,84,15,"prev"],[84,21,84,19],[84,26,84,24],[85,10,84,26],[85,13,84,29,"prev"],[85,17,84,33],[86,10,84,35,"isLoading"],[86,19,84,44],[86,21,84,46],[87,8,84,52],[87,9,84,53],[87,10,84,54],[87,11,84,55],[88,8,85,6],[88,14,85,12,"error"],[88,19,85,17],[89,6,86,4],[90,4,87,2],[90,5,87,3],[90,7,87,5],[90,9,87,7],[90,10,87,8],[91,4,89,2],[91,10,89,8,"logout"],[91,16,89,14],[91,19,89,17],[91,23,89,17,"useCallback"],[91,29,89,28],[91,30,89,28,"useCallback"],[91,41,89,28],[91,43,89,29],[91,55,89,41],[92,6,90,4,"setState"],[92,14,90,12],[92,15,90,13,"prev"],[92,19,90,17],[92,24,90,22],[93,8,90,24],[93,11,90,27,"prev"],[93,15,90,31],[94,8,90,33,"isLoading"],[94,17,90,42],[94,19,90,44],[95,6,90,49],[95,7,90,50],[95,8,90,51],[95,9,90,52],[96,6,92,4],[96,10,92,8],[97,8,93,6],[97,14,93,12,"authApi"],[97,26,93,19],[97,27,93,19,"authApi"],[97,34,93,19],[97,35,93,20,"logout"],[97,41,93,26],[97,42,93,27],[97,43,93,28],[98,6,94,4],[98,7,94,5],[98,16,94,14],[99,8,95,6,"setState"],[99,16,95,14],[99,17,95,15],[100,10,96,8,"user"],[100,14,96,12],[100,16,96,14],[100,20,96,18],[101,10,97,8,"isLoading"],[101,19,97,17],[101,21,97,19],[101,26,97,24],[102,10,98,8,"isAuthenticated"],[102,25,98,23],[102,27,98,25],[103,8,99,6],[103,9,99,7],[103,10,99,8],[104,6,100,4],[105,4,101,2],[105,5,101,3],[105,7,101,5],[105,9,101,7],[105,10,101,8],[106,4,103,2],[106,10,103,8,"refreshUser"],[106,21,103,19],[106,24,103,22],[106,28,103,22,"useCallback"],[106,34,103,33],[106,35,103,33,"useCallback"],[106,46,103,33],[106,48,103,34],[106,60,103,46],[107,6,104,4],[107,12,104,10,"user"],[107,16,104,14],[107,19,104,17],[107,25,104,23,"authApi"],[107,37,104,30],[107,38,104,30,"authApi"],[107,45,104,30],[107,46,104,31,"getCurrentUser"],[107,60,104,45],[107,61,104,46],[107,62,104,47],[108,6,105,4,"setState"],[108,14,105,12],[108,15,105,13,"prev"],[108,19,105,17],[108,24,105,22],[109,8,105,24],[109,11,105,27,"prev"],[109,15,105,31],[110,8,105,33,"user"],[111,6,105,38],[111,7,105,39],[111,8,105,40],[111,9,105,41],[112,4,106,2],[112,5,106,3],[112,7,106,5],[112,9,106,7],[112,10,106,8],[113,4,108,2],[113,24,109,4],[113,28,109,4,"_reactJsxDevRuntime"],[113,47,109,4],[113,48,109,4,"jsxDEV"],[113,54,109,4],[113,56,109,5,"AuthContext"],[113,67,109,16],[113,68,109,17,"Provider"],[113,76,109,25],[114,6,110,6,"value"],[114,11,110,11],[114,13,110,13],[115,8,111,8],[115,11,111,11,"state"],[115,16,111,16],[116,8,112,8,"login"],[116,13,112,13],[117,8,113,8,"logout"],[117,14,113,14],[118,8,114,8,"refreshUser"],[119,6,115,6],[119,7,115,8],[120,6,115,8,"children"],[120,14,115,8],[120,16,117,7,"children"],[121,4,117,15],[122,6,117,15,"fileName"],[122,14,117,15],[122,16,117,15,"_jsxFileName"],[122,28,117,15],[123,6,117,15,"lineNumber"],[123,16,117,15],[124,6,117,15,"columnNumber"],[124,18,117,15],[125,4,117,15],[125,11,118,26],[125,12,118,27],[126,2,120,0],[127,2,120,1,"_s"],[127,4,120,1],[127,5,26,16,"AuthProvider"],[127,17,26,28],[128,2,26,28,"_c"],[128,4,26,28],[128,7,26,16,"AuthProvider"],[128,19,26,28],[129,2,122,7],[129,11,122,16,"useAuth"],[129,18,122,23,"useAuth"],[129,19,122,23],[129,21,122,26],[130,4,122,26,"_s2"],[130,7,122,26],[131,4,123,2],[131,10,123,8,"context"],[131,17,123,15],[131,20,123,18],[131,24,123,18,"useContext"],[131,30,123,28],[131,31,123,28,"useContext"],[131,41,123,28],[131,43,123,29,"AuthContext"],[131,54,123,40],[131,55,123,41],[132,4,124,2],[132,8,124,6,"context"],[132,15,124,13],[132,20,124,18,"undefined"],[132,29,124,27],[132,31,124,29],[133,6,125,4],[133,12,125,10],[133,16,125,14,"Error"],[133,21,125,19],[133,22,125,20],[133,67,125,65],[133,68,125,66],[134,4,126,2],[135,4,127,2],[135,11,127,9,"context"],[135,18,127,16],[136,2,128,0],[137,2,128,1,"_s2"],[137,5,128,1],[137,6,122,16,"useAuth"],[137,13,122,23],[138,2,130,0],[138,6,130,0,"_default"],[138,14,130,0],[138,17,130,15,"AuthContext"],[138,28,130,26],[139,2,130,27],[139,6,130,27,"_c"],[139,8,130,27],[140,2,130,27,"$RefreshReg$"],[140,14,130,27],[140,15,130,27,"_c"],[140,17,130,27],[141,0,130,27],[141,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","setState$argument_0","logout","refreshUser","useAuth"],"mappings":"AAA;OCyB;YCQ;GDE;0BEE;GF6B;4BGE;aCE,sCD;eCa,uCD;GHG;6BKE;aDC,sCC;GLW;kCME;aFE,2BE;GNC;CDc;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}