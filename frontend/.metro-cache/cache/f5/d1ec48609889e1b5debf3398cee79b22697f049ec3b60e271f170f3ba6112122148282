{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":81},"end":{"line":4,"column":102,"index":183}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":184},"end":{"line":5,"column":52,"index":236}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(); // AUTH CONTEXT\n  // Provides authentication state and methods throughout the app\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [state, setState] = (0, _react.useState)({\n      user: null,\n      isLoading: true,\n      isAuthenticated: false\n    });\n\n    // Check for existing session on mount\n    (0, _react.useEffect)(() => {\n      checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async () => {\n      try {\n        const isAuth = await _servicesApi.authApi.isAuthenticated();\n        if (isAuth) {\n          const user = await _servicesApi.authApi.getCurrentUser();\n          setState({\n            user,\n            isLoading: false,\n            isAuthenticated: !!user\n          });\n        } else {\n          setState({\n            user: null,\n            isLoading: false,\n            isAuthenticated: false\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    };\n    const login = (0, _react.useCallback)(async credentials => {\n      console.log('Login called with:', credentials.email);\n      setState(prev => ({\n        ...prev,\n        isLoading: true\n      }));\n      try {\n        console.log('Calling authApi.login...');\n        const response = await _servicesApi.authApi.login(credentials);\n        console.log('Login successful, user:', response.user?.email);\n        setState({\n          user: response.user,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Login failed:', error);\n        setState(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n        throw error;\n      }\n    }, []);\n    const logout = (0, _react.useCallback)(async () => {\n      setState(prev => ({\n        ...prev,\n        isLoading: true\n      }));\n      try {\n        await _servicesApi.authApi.logout();\n      } finally {\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    }, []);\n    const refreshUser = (0, _react.useCallback)(async () => {\n      const user = await _servicesApi.authApi.getCurrentUser();\n      setState(prev => ({\n        ...prev,\n        user\n      }));\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        ...state,\n        login,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"oFydYfIcJV58DLvI+bERQs+y21U=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _default = AuthContext;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":137,"map":[[6,26,1,0],[7,2,2,0],[8,2,2,0,"Object"],[8,8,2,0],[8,9,2,0,"defineProperty"],[8,23,2,0],[8,24,2,0,"exports"],[8,31,2,0],[9,4,2,0,"value"],[9,9,2,0],[10,2,2,0],[11,2,126,0,"Object"],[11,8,126,0],[11,9,126,0,"defineProperty"],[11,23,126,0],[11,24,126,0,"exports"],[11,31,126,0],[12,4,126,0,"enumerable"],[12,14,126,0],[13,4,126,0,"get"],[13,7,126,0],[13,18,126,0,"get"],[13,19,126,0],[14,6,126,0],[14,13,126,0,"_default"],[14,21,126,0],[15,4,126,0],[16,2,126,0],[17,2,26,0,"exports"],[17,9,26,0],[17,10,26,0,"AuthProvider"],[17,22,26,0],[17,25,26,0,"AuthProvider"],[17,37,26,0],[18,2,118,0,"exports"],[18,9,118,0],[18,10,118,0,"useAuth"],[18,17,118,0],[18,20,118,0,"useAuth"],[18,27,118,0],[19,2,4,0],[19,6,4,0,"_react"],[19,12,4,0],[19,15,4,0,"require"],[19,22,4,0],[19,23,4,0,"_dependencyMap"],[19,37,4,0],[20,2,5,0],[20,6,5,0,"_servicesApi"],[20,18,5,0],[20,21,5,0,"require"],[20,28,5,0],[20,29,5,0,"_dependencyMap"],[20,43,5,0],[21,2,5,52],[21,6,5,52,"_reactJsxDevRuntime"],[21,25,5,52],[21,28,5,52,"require"],[21,35,5,52],[21,36,5,52,"_dependencyMap"],[21,50,5,52],[22,2,20,0],[22,8,20,6,"AuthContext"],[22,19,20,17],[22,35,20,20],[22,39,20,20,"createContext"],[22,45,20,33],[22,46,20,33,"createContext"],[22,59,20,33],[22,61,20,63,"undefined"],[22,70,20,72],[22,71,20,73],[23,2,26,7],[23,11,26,16,"AuthProvider"],[23,23,26,28,"AuthProvider"],[23,24,26,29],[24,4,26,31,"children"],[25,2,26,59],[25,3,26,60],[25,5,26,62],[26,4,26,62,"_s"],[26,6,26,62],[27,4,27,2],[27,10,27,8],[27,11,27,9,"state"],[27,16,27,14],[27,18,27,16,"setState"],[27,26,27,24],[27,27,27,25],[27,30,27,28],[27,34,27,28,"useState"],[27,40,27,36],[27,41,27,36,"useState"],[27,49,27,36],[27,51,27,48],[28,6,28,4,"user"],[28,10,28,8],[28,12,28,10],[28,16,28,14],[29,6,29,4,"isLoading"],[29,15,29,13],[29,17,29,15],[29,21,29,19],[30,6,30,4,"isAuthenticated"],[30,21,30,19],[30,23,30,21],[31,4,31,2],[31,5,31,3],[31,6,31,4],[33,4,33,2],[34,4,34,2],[34,8,34,2,"useEffect"],[34,14,34,11],[34,15,34,11,"useEffect"],[34,24,34,11],[34,26,34,12],[34,32,34,18],[35,6,35,4,"checkAuthStatus"],[35,21,35,19],[35,22,35,20],[35,23,35,21],[36,4,36,2],[36,5,36,3],[36,7,36,5],[36,9,36,7],[36,10,36,8],[37,4,38,2],[37,10,38,8,"checkAuthStatus"],[37,25,38,23],[37,28,38,26],[37,34,38,26,"checkAuthStatus"],[37,35,38,26],[37,40,38,38],[38,6,39,4],[38,10,39,8],[39,8,40,6],[39,14,40,12,"isAuth"],[39,20,40,18],[39,23,40,21],[39,29,40,27,"authApi"],[39,41,40,34],[39,42,40,34,"authApi"],[39,49,40,34],[39,50,40,35,"isAuthenticated"],[39,65,40,50],[39,66,40,51],[39,67,40,52],[40,8,41,6],[40,12,41,10,"isAuth"],[40,18,41,16],[40,20,41,18],[41,10,42,8],[41,16,42,14,"user"],[41,20,42,18],[41,23,42,21],[41,29,42,27,"authApi"],[41,41,42,34],[41,42,42,34,"authApi"],[41,49,42,34],[41,50,42,35,"getCurrentUser"],[41,64,42,49],[41,65,42,50],[41,66,42,51],[42,10,43,8,"setState"],[42,18,43,16],[42,19,43,17],[43,12,44,10,"user"],[43,16,44,14],[44,12,45,10,"isLoading"],[44,21,45,19],[44,23,45,21],[44,28,45,26],[45,12,46,10,"isAuthenticated"],[45,27,46,25],[45,29,46,27],[45,30,46,28],[45,31,46,29,"user"],[46,10,47,8],[46,11,47,9],[46,12,47,10],[47,8,48,6],[47,9,48,7],[47,15,48,13],[48,10,49,8,"setState"],[48,18,49,16],[48,19,49,17],[49,12,50,10,"user"],[49,16,50,14],[49,18,50,16],[49,22,50,20],[50,12,51,10,"isLoading"],[50,21,51,19],[50,23,51,21],[50,28,51,26],[51,12,52,10,"isAuthenticated"],[51,27,52,25],[51,29,52,27],[52,10,53,8],[52,11,53,9],[52,12,53,10],[53,8,54,6],[54,6,55,4],[54,7,55,5],[54,8,55,6],[54,15,55,13,"error"],[54,20,55,18],[54,22,55,20],[55,8,56,6,"console"],[55,15,56,13],[55,16,56,14,"error"],[55,21,56,19],[55,22,56,20],[55,42,56,40],[55,44,56,42,"error"],[55,49,56,47],[55,50,56,48],[56,8,57,6,"setState"],[56,16,57,14],[56,17,57,15],[57,10,58,8,"user"],[57,14,58,12],[57,16,58,14],[57,20,58,18],[58,10,59,8,"isLoading"],[58,19,59,17],[58,21,59,19],[58,26,59,24],[59,10,60,8,"isAuthenticated"],[59,25,60,23],[59,27,60,25],[60,8,61,6],[60,9,61,7],[60,10,61,8],[61,6,62,4],[62,4,63,2],[62,5,63,3],[63,4,65,2],[63,10,65,8,"login"],[63,15,65,13],[63,18,65,16],[63,22,65,16,"useCallback"],[63,28,65,27],[63,29,65,27,"useCallback"],[63,40,65,27],[63,42,65,28],[63,48,65,35,"credentials"],[63,59,65,60],[63,63,65,65],[64,6,66,4,"console"],[64,13,66,11],[64,14,66,12,"log"],[64,17,66,15],[64,18,66,16],[64,38,66,36],[64,40,66,38,"credentials"],[64,51,66,49],[64,52,66,50,"email"],[64,57,66,55],[64,58,66,56],[65,6,67,4,"setState"],[65,14,67,12],[65,15,67,13,"prev"],[65,19,67,17],[65,24,67,22],[66,8,67,24],[66,11,67,27,"prev"],[66,15,67,31],[67,8,67,33,"isLoading"],[67,17,67,42],[67,19,67,44],[68,6,67,49],[68,7,67,50],[68,8,67,51],[68,9,67,52],[69,6,69,4],[69,10,69,8],[70,8,70,6,"console"],[70,15,70,13],[70,16,70,14,"log"],[70,19,70,17],[70,20,70,18],[70,46,70,44],[70,47,70,45],[71,8,71,6],[71,14,71,12,"response"],[71,22,71,20],[71,25,71,23],[71,31,71,29,"authApi"],[71,43,71,36],[71,44,71,36,"authApi"],[71,51,71,36],[71,52,71,37,"login"],[71,57,71,42],[71,58,71,43,"credentials"],[71,69,71,54],[71,70,71,55],[72,8,72,6,"console"],[72,15,72,13],[72,16,72,14,"log"],[72,19,72,17],[72,20,72,18],[72,45,72,43],[72,47,72,45,"response"],[72,55,72,53],[72,56,72,54,"user"],[72,60,72,58],[72,62,72,60,"email"],[72,67,72,65],[72,68,72,66],[73,8,73,6,"setState"],[73,16,73,14],[73,17,73,15],[74,10,74,8,"user"],[74,14,74,12],[74,16,74,14,"response"],[74,24,74,22],[74,25,74,23,"user"],[74,29,74,27],[75,10,75,8,"isLoading"],[75,19,75,17],[75,21,75,19],[75,26,75,24],[76,10,76,8,"isAuthenticated"],[76,25,76,23],[76,27,76,25],[77,8,77,6],[77,9,77,7],[77,10,77,8],[78,6,78,4],[78,7,78,5],[78,8,78,6],[78,15,78,13,"error"],[78,20,78,18],[78,22,78,20],[79,8,79,6,"console"],[79,15,79,13],[79,16,79,14,"error"],[79,21,79,19],[79,22,79,20],[79,37,79,35],[79,39,79,37,"error"],[79,44,79,42],[79,45,79,43],[80,8,80,6,"setState"],[80,16,80,14],[80,17,80,15,"prev"],[80,21,80,19],[80,26,80,24],[81,10,80,26],[81,13,80,29,"prev"],[81,17,80,33],[82,10,80,35,"isLoading"],[82,19,80,44],[82,21,80,46],[83,8,80,52],[83,9,80,53],[83,10,80,54],[83,11,80,55],[84,8,81,6],[84,14,81,12,"error"],[84,19,81,17],[85,6,82,4],[86,4,83,2],[86,5,83,3],[86,7,83,5],[86,9,83,7],[86,10,83,8],[87,4,85,2],[87,10,85,8,"logout"],[87,16,85,14],[87,19,85,17],[87,23,85,17,"useCallback"],[87,29,85,28],[87,30,85,28,"useCallback"],[87,41,85,28],[87,43,85,29],[87,55,85,41],[88,6,86,4,"setState"],[88,14,86,12],[88,15,86,13,"prev"],[88,19,86,17],[88,24,86,22],[89,8,86,24],[89,11,86,27,"prev"],[89,15,86,31],[90,8,86,33,"isLoading"],[90,17,86,42],[90,19,86,44],[91,6,86,49],[91,7,86,50],[91,8,86,51],[91,9,86,52],[92,6,88,4],[92,10,88,8],[93,8,89,6],[93,14,89,12,"authApi"],[93,26,89,19],[93,27,89,19,"authApi"],[93,34,89,19],[93,35,89,20,"logout"],[93,41,89,26],[93,42,89,27],[93,43,89,28],[94,6,90,4],[94,7,90,5],[94,16,90,14],[95,8,91,6,"setState"],[95,16,91,14],[95,17,91,15],[96,10,92,8,"user"],[96,14,92,12],[96,16,92,14],[96,20,92,18],[97,10,93,8,"isLoading"],[97,19,93,17],[97,21,93,19],[97,26,93,24],[98,10,94,8,"isAuthenticated"],[98,25,94,23],[98,27,94,25],[99,8,95,6],[99,9,95,7],[99,10,95,8],[100,6,96,4],[101,4,97,2],[101,5,97,3],[101,7,97,5],[101,9,97,7],[101,10,97,8],[102,4,99,2],[102,10,99,8,"refreshUser"],[102,21,99,19],[102,24,99,22],[102,28,99,22,"useCallback"],[102,34,99,33],[102,35,99,33,"useCallback"],[102,46,99,33],[102,48,99,34],[102,60,99,46],[103,6,100,4],[103,12,100,10,"user"],[103,16,100,14],[103,19,100,17],[103,25,100,23,"authApi"],[103,37,100,30],[103,38,100,30,"authApi"],[103,45,100,30],[103,46,100,31,"getCurrentUser"],[103,60,100,45],[103,61,100,46],[103,62,100,47],[104,6,101,4,"setState"],[104,14,101,12],[104,15,101,13,"prev"],[104,19,101,17],[104,24,101,22],[105,8,101,24],[105,11,101,27,"prev"],[105,15,101,31],[106,8,101,33,"user"],[107,6,101,38],[107,7,101,39],[107,8,101,40],[107,9,101,41],[108,4,102,2],[108,5,102,3],[108,7,102,5],[108,9,102,7],[108,10,102,8],[109,4,104,2],[109,24,105,4],[109,28,105,4,"_reactJsxDevRuntime"],[109,47,105,4],[109,48,105,4,"jsxDEV"],[109,54,105,4],[109,56,105,5,"AuthContext"],[109,67,105,16],[109,68,105,17,"Provider"],[109,76,105,25],[110,6,106,6,"value"],[110,11,106,11],[110,13,106,13],[111,8,107,8],[111,11,107,11,"state"],[111,16,107,16],[112,8,108,8,"login"],[112,13,108,13],[113,8,109,8,"logout"],[113,14,109,14],[114,8,110,8,"refreshUser"],[115,6,111,6],[115,7,111,8],[116,6,111,8,"children"],[116,14,111,8],[116,16,113,7,"children"],[117,4,113,15],[118,6,113,15,"fileName"],[118,14,113,15],[118,16,113,15,"_jsxFileName"],[118,28,113,15],[119,6,113,15,"lineNumber"],[119,16,113,15],[120,6,113,15,"columnNumber"],[120,18,113,15],[121,4,113,15],[121,11,114,26],[121,12,114,27],[122,2,116,0],[123,2,116,1,"_s"],[123,4,116,1],[123,5,26,16,"AuthProvider"],[123,17,26,28],[124,2,26,28,"_c"],[124,4,26,28],[124,7,26,16,"AuthProvider"],[124,19,26,28],[125,2,118,7],[125,11,118,16,"useAuth"],[125,18,118,23,"useAuth"],[125,19,118,23],[125,21,118,26],[126,4,118,26,"_s2"],[126,7,118,26],[127,4,119,2],[127,10,119,8,"context"],[127,17,119,15],[127,20,119,18],[127,24,119,18,"useContext"],[127,30,119,28],[127,31,119,28,"useContext"],[127,41,119,28],[127,43,119,29,"AuthContext"],[127,54,119,40],[127,55,119,41],[128,4,120,2],[128,8,120,6,"context"],[128,15,120,13],[128,20,120,18,"undefined"],[128,29,120,27],[128,31,120,29],[129,6,121,4],[129,12,121,10],[129,16,121,14,"Error"],[129,21,121,19],[129,22,121,20],[129,67,121,65],[129,68,121,66],[130,4,122,2],[131,4,123,2],[131,11,123,9,"context"],[131,18,123,16],[132,2,124,0],[133,2,124,1,"_s2"],[133,5,124,1],[133,6,118,16,"useAuth"],[133,13,118,23],[134,2,126,0],[134,6,126,0,"_default"],[134,14,126,0],[134,17,126,15,"AuthContext"],[134,28,126,26],[135,2,126,27],[135,6,126,27,"_c"],[135,8,126,27],[136,2,126,27,"$RefreshReg$"],[136,14,126,27],[136,15,126,27,"_c"],[136,17,126,27],[137,0,126,27],[137,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","setState$argument_0","logout","refreshUser","useAuth"],"mappings":"AAA;OCyB;YCQ;GDE;0BEE;GFyB;4BGE;aCE,sCD;eCa,uCD;GHG;6BKE;aDC,sCC;GLW;kCME;aFE,2BE;GNC;CDc;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}