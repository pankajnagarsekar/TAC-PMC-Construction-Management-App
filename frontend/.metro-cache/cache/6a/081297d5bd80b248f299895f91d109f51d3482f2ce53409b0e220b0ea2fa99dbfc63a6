{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":74},"end":{"line":4,"column":26,"index":100}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":101},"end":{"line":5,"column":60,"index":161}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"expo-status-bar","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":162},"end":{"line":6,"column":44,"index":206}}],"key":"tlkgvZrxUMG8C7vDDJbsBGIlvhs=","exportNames":["*"],"imports":1}},{"name":"../contexts/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":242},"end":{"line":8,"column":64,"index":306}}],"key":"oNCgyH4yx4pAIVZXLqqRGB2kuCY=","exportNames":["*"],"imports":1}},{"name":"../components/ui","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":307},"end":{"line":9,"column":49,"index":356}}],"key":"PUVVt9dsDTaroCRzZhjSmKT2hTU=","exportNames":["*"],"imports":1}},{"name":"../constants/theme","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":357},"end":{"line":10,"column":44,"index":401}}],"key":"wYsGrLzOZoewJzHaXfZf3q7qjsE=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/_layout.tsx\"; // ROOT LAYOUT\n  // Handles authentication state and role-based navigation\n  // Navigation guard component\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootLayout;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoRouter = require(_dependencyMap[1], \"expo-router\");\n  var _expoStatusBar = require(_dependencyMap[2], \"expo-status-bar\");\n  var _contextsAuthContext = require(_dependencyMap[3], \"../contexts/AuthContext\");\n  var _componentsUi = require(_dependencyMap[4], \"../components/ui\");\n  var _constantsTheme = require(_dependencyMap[5], \"../constants/theme\");\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  function NavigationGuard({\n    children\n  }) {\n    const {\n      isAuthenticated,\n      isLoading,\n      user\n    } = (0, _contextsAuthContext.useAuth)();\n    const segments = (0, _expoRouter.useSegments)();\n    const router = (0, _expoRouter.useRouter)();\n    (0, _react.useEffect)(() => {\n      if (isLoading) return;\n      const inAuthGroup = segments[0] === 'login';\n      const inAdminGroup = segments[0] === '(admin)';\n      const inSupervisorGroup = segments[0] === '(supervisor)';\n      if (!isAuthenticated && !inAuthGroup) {\n        // Not authenticated, redirect to login\n        router.replace('/login');\n      } else if (isAuthenticated && inAuthGroup) {\n        // Authenticated but on login page, redirect based on role\n        if (user?.role === 'Admin') {\n          router.replace('/(admin)/dashboard');\n        } else {\n          router.replace('/(supervisor)/dashboard');\n        }\n      } else if (isAuthenticated && user) {\n        // STRICT ROLE-BASED ACCESS ENFORCEMENT\n        // Supervisor CANNOT access Admin routes - redirect immediately\n        if (user.role !== 'Admin' && inAdminGroup) {\n          router.replace('/(supervisor)/dashboard');\n        }\n        // Admin CAN access Supervisor routes (for oversight)\n        // But Supervisor is strictly blocked from Admin routes\n      }\n    }, [isAuthenticated, isLoading, segments, user]);\n    if (isLoading) {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_componentsUi.LoadingScreen, {\n        message: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 12\n      }, this);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactJsxDevRuntime.Fragment, {\n      children: children\n    }, void 0, false);\n  }\n\n  // Root layout with auth provider\n  function RootLayout() {\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_contextsAuthContext.AuthProvider, {\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(NavigationGuard, {\n        children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoStatusBar.StatusBar, {\n          style: \"light\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack, {\n          screenOptions: {\n            headerShown: false,\n            contentStyle: {\n              backgroundColor: _constantsTheme.Colors.background\n            }\n          },\n          children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n            name: \"login\",\n            options: {\n              headerShown: false\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 11\n          }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n            name: \"(admin)\",\n            options: {\n              headerShown: false\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 11\n          }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n            name: \"(supervisor)\",\n            options: {\n              headerShown: false\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 11\n          }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n            name: \"index\",\n            options: {\n              headerShown: false\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }, this);\n  }\n});","lineCount":142,"map":[[4,54,1,0],[5,2,2,0],[6,2,12,0],[7,2,12,0,"Object"],[7,8,12,0],[7,9,12,0,"defineProperty"],[7,23,12,0],[7,24,12,0,"exports"],[7,31,12,0],[8,4,12,0,"value"],[8,9,12,0],[9,2,12,0],[10,2,54,15,"Object"],[10,8,54,15],[10,9,54,15,"defineProperty"],[10,23,54,15],[10,24,54,15,"exports"],[10,31,54,15],[11,4,54,15,"enumerable"],[11,14,54,15],[12,4,54,15,"get"],[12,7,54,15],[12,18,54,15,"get"],[12,19,54,15],[13,6,54,15],[13,13,54,15,"RootLayout"],[13,23,54,15],[14,4,54,15],[15,2,54,15],[16,2,4,0],[16,6,4,0,"_react"],[16,12,4,0],[16,15,4,0,"require"],[16,22,4,0],[16,23,4,0,"_dependencyMap"],[16,37,4,0],[17,2,5,0],[17,6,5,0,"_expoRouter"],[17,17,5,0],[17,20,5,0,"require"],[17,27,5,0],[17,28,5,0,"_dependencyMap"],[17,42,5,0],[18,2,6,0],[18,6,6,0,"_expoStatusBar"],[18,20,6,0],[18,23,6,0,"require"],[18,30,6,0],[18,31,6,0,"_dependencyMap"],[18,45,6,0],[19,2,8,0],[19,6,8,0,"_contextsAuthContext"],[19,26,8,0],[19,29,8,0,"require"],[19,36,8,0],[19,37,8,0,"_dependencyMap"],[19,51,8,0],[20,2,9,0],[20,6,9,0,"_componentsUi"],[20,19,9,0],[20,22,9,0,"require"],[20,29,9,0],[20,30,9,0,"_dependencyMap"],[20,44,9,0],[21,2,10,0],[21,6,10,0,"_constantsTheme"],[21,21,10,0],[21,24,10,0,"require"],[21,31,10,0],[21,32,10,0,"_dependencyMap"],[21,46,10,0],[22,2,10,44],[22,6,10,44,"_reactJsxDevRuntime"],[22,25,10,44],[22,28,10,44,"require"],[22,35,10,44],[22,36,10,44,"_dependencyMap"],[22,50,10,44],[23,2,13,0],[23,11,13,9,"NavigationGuard"],[23,26,13,24,"NavigationGuard"],[23,27,13,25],[24,4,13,27,"children"],[25,2,13,67],[25,3,13,68],[25,5,13,70],[26,4,14,2],[26,10,14,8],[27,6,14,10,"isAuthenticated"],[27,21,14,25],[28,6,14,27,"isLoading"],[28,15,14,36],[29,6,14,38,"user"],[30,4,14,43],[30,5,14,44],[30,8,14,47],[30,12,14,47,"useAuth"],[30,32,14,54],[30,33,14,54,"useAuth"],[30,40,14,54],[30,42,14,55],[30,43,14,56],[31,4,15,2],[31,10,15,8,"segments"],[31,18,15,16],[31,21,15,19],[31,25,15,19,"useSegments"],[31,36,15,30],[31,37,15,30,"useSegments"],[31,48,15,30],[31,50,15,31],[31,51,15,32],[32,4,16,2],[32,10,16,8,"router"],[32,16,16,14],[32,19,16,17],[32,23,16,17,"useRouter"],[32,34,16,26],[32,35,16,26,"useRouter"],[32,44,16,26],[32,46,16,27],[32,47,16,28],[33,4,18,2],[33,8,18,2,"useEffect"],[33,14,18,11],[33,15,18,11,"useEffect"],[33,24,18,11],[33,26,18,12],[33,32,18,18],[34,6,19,4],[34,10,19,8,"isLoading"],[34,19,19,17],[34,21,19,19],[35,6,21,4],[35,12,21,10,"inAuthGroup"],[35,23,21,21],[35,26,21,24,"segments"],[35,34,21,32],[35,35,21,33],[35,36,21,34],[35,37,21,35],[35,42,21,40],[35,49,21,47],[36,6,22,4],[36,12,22,10,"inAdminGroup"],[36,24,22,22],[36,27,22,25,"segments"],[36,35,22,33],[36,36,22,34],[36,37,22,35],[36,38,22,36],[36,43,22,41],[36,52,22,50],[37,6,23,4],[37,12,23,10,"inSupervisorGroup"],[37,29,23,27],[37,32,23,30,"segments"],[37,40,23,38],[37,41,23,39],[37,42,23,40],[37,43,23,41],[37,48,23,46],[37,62,23,60],[38,6,25,4],[38,10,25,8],[38,11,25,9,"isAuthenticated"],[38,26,25,24],[38,30,25,28],[38,31,25,29,"inAuthGroup"],[38,42,25,40],[38,44,25,42],[39,8,26,6],[40,8,27,6,"router"],[40,14,27,12],[40,15,27,13,"replace"],[40,22,27,20],[40,23,27,21],[40,31,27,29],[40,32,27,30],[41,6,28,4],[41,7,28,5],[41,13,28,11],[41,17,28,15,"isAuthenticated"],[41,32,28,30],[41,36,28,34,"inAuthGroup"],[41,47,28,45],[41,49,28,47],[42,8,29,6],[43,8,30,6],[43,12,30,10,"user"],[43,16,30,14],[43,18,30,16,"role"],[43,22,30,20],[43,27,30,25],[43,34,30,32],[43,36,30,34],[44,10,31,8,"router"],[44,16,31,14],[44,17,31,15,"replace"],[44,24,31,22],[44,25,31,23],[44,45,31,43],[44,46,31,44],[45,8,32,6],[45,9,32,7],[45,15,32,13],[46,10,33,8,"router"],[46,16,33,14],[46,17,33,15,"replace"],[46,24,33,22],[46,25,33,23],[46,50,33,48],[46,51,33,49],[47,8,34,6],[48,6,35,4],[48,7,35,5],[48,13,35,11],[48,17,35,15,"isAuthenticated"],[48,32,35,30],[48,36,35,34,"user"],[48,40,35,38],[48,42,35,40],[49,8,36,6],[50,8,37,6],[51,8,38,6],[51,12,38,10,"user"],[51,16,38,14],[51,17,38,15,"role"],[51,21,38,19],[51,26,38,24],[51,33,38,31],[51,37,38,35,"inAdminGroup"],[51,49,38,47],[51,51,38,49],[52,10,39,8,"router"],[52,16,39,14],[52,17,39,15,"replace"],[52,24,39,22],[52,25,39,23],[52,50,39,48],[52,51,39,49],[53,8,40,6],[54,8,41,6],[55,8,42,6],[56,6,43,4],[57,4,44,2],[57,5,44,3],[57,7,44,5],[57,8,44,6,"isAuthenticated"],[57,23,44,21],[57,25,44,23,"isLoading"],[57,34,44,32],[57,36,44,34,"segments"],[57,44,44,42],[57,46,44,44,"user"],[57,50,44,48],[57,51,44,49],[57,52,44,50],[58,4,46,2],[58,8,46,6,"isLoading"],[58,17,46,15],[58,19,46,17],[59,6,47,4],[59,26,47,11],[59,30,47,11,"_reactJsxDevRuntime"],[59,49,47,11],[59,50,47,11,"jsxDEV"],[59,56,47,11],[59,58,47,12,"_componentsUi"],[59,71,47,25],[59,72,47,25,"LoadingScreen"],[59,85,47,25],[60,8,47,26,"message"],[60,15,47,33],[60,17,47,34],[61,6,47,46],[62,8,47,46,"fileName"],[62,16,47,46],[62,18,47,46,"_jsxFileName"],[62,30,47,46],[63,8,47,46,"lineNumber"],[63,18,47,46],[64,8,47,46,"columnNumber"],[64,20,47,46],[65,6,47,46],[65,13,47,48],[65,14,47,49],[66,4,48,2],[67,4,50,2],[67,24,50,9],[67,28,50,9,"_reactJsxDevRuntime"],[67,47,50,9],[67,48,50,9,"jsxDEV"],[67,54,50,9],[67,56,50,9,"_reactJsxDevRuntime"],[67,75,50,9],[67,76,50,9,"Fragment"],[67,84,50,9],[68,6,50,9,"children"],[68,14,50,9],[68,16,50,12,"children"],[69,4,50,20],[69,20,50,23],[69,21,50,24],[70,2,51,0],[72,2,53,0],[73,2,54,15],[73,11,54,24,"RootLayout"],[73,21,54,34,"RootLayout"],[73,22,54,34],[73,24,54,37],[74,4,55,2],[74,24,56,4],[74,28,56,4,"_reactJsxDevRuntime"],[74,47,56,4],[74,48,56,4,"jsxDEV"],[74,54,56,4],[74,56,56,5,"_contextsAuthContext"],[74,76,56,17],[74,77,56,17,"AuthProvider"],[74,89,56,17],[75,6,56,17,"children"],[75,14,56,17],[75,29,57,6],[75,33,57,6,"_reactJsxDevRuntime"],[75,52,57,6],[75,53,57,6,"jsxDEV"],[75,59,57,6],[75,61,57,7,"NavigationGuard"],[75,76,57,22],[76,8,57,22,"children"],[76,16,57,22],[76,32,58,8],[76,36,58,8,"_reactJsxDevRuntime"],[76,55,58,8],[76,56,58,8,"jsxDEV"],[76,62,58,8],[76,64,58,9,"_expoStatusBar"],[76,78,58,18],[76,79,58,18,"StatusBar"],[76,88,58,18],[77,10,58,19,"style"],[77,15,58,24],[77,17,58,25],[78,8,58,32],[79,10,58,32,"fileName"],[79,18,58,32],[79,20,58,32,"_jsxFileName"],[79,32,58,32],[80,10,58,32,"lineNumber"],[80,20,58,32],[81,10,58,32,"columnNumber"],[81,22,58,32],[82,8,58,32],[82,15,58,34],[82,16,58,35],[82,31,59,8],[82,35,59,8,"_reactJsxDevRuntime"],[82,54,59,8],[82,55,59,8,"jsxDEV"],[82,61,59,8],[82,63,59,9,"_expoRouter"],[82,74,59,14],[82,75,59,14,"Stack"],[82,80,59,14],[83,10,60,10,"screenOptions"],[83,23,60,23],[83,25,60,25],[84,12,61,12,"headerShown"],[84,23,61,23],[84,25,61,25],[84,30,61,30],[85,12,62,12,"contentStyle"],[85,24,62,24],[85,26,62,26],[86,14,62,28,"backgroundColor"],[86,29,62,43],[86,31,62,45,"Colors"],[86,46,62,51],[86,47,62,51,"Colors"],[86,53,62,51],[86,54,62,52,"background"],[87,12,62,63],[88,10,63,10],[88,11,63,12],[89,10,63,12,"children"],[89,18,63,12],[89,34,65,10],[89,38,65,10,"_reactJsxDevRuntime"],[89,57,65,10],[89,58,65,10,"jsxDEV"],[89,64,65,10],[89,66,65,11,"_expoRouter"],[89,77,65,16],[89,78,65,16,"Stack"],[89,83,65,16],[89,84,65,17,"Screen"],[89,90,65,23],[90,12,65,24,"name"],[90,16,65,28],[90,18,65,29],[90,25,65,36],[91,12,65,37,"options"],[91,19,65,44],[91,21,65,46],[92,14,65,48,"headerShown"],[92,25,65,59],[92,27,65,61],[93,12,65,67],[94,10,65,69],[95,12,65,69,"fileName"],[95,20,65,69],[95,22,65,69,"_jsxFileName"],[95,34,65,69],[96,12,65,69,"lineNumber"],[96,22,65,69],[97,12,65,69,"columnNumber"],[97,24,65,69],[98,10,65,69],[98,17,65,71],[98,18,65,72],[98,33,66,10],[98,37,66,10,"_reactJsxDevRuntime"],[98,56,66,10],[98,57,66,10,"jsxDEV"],[98,63,66,10],[98,65,66,11,"_expoRouter"],[98,76,66,16],[98,77,66,16,"Stack"],[98,82,66,16],[98,83,66,17,"Screen"],[98,89,66,23],[99,12,66,24,"name"],[99,16,66,28],[99,18,66,29],[99,27,66,38],[100,12,66,39,"options"],[100,19,66,46],[100,21,66,48],[101,14,66,50,"headerShown"],[101,25,66,61],[101,27,66,63],[102,12,66,69],[103,10,66,71],[104,12,66,71,"fileName"],[104,20,66,71],[104,22,66,71,"_jsxFileName"],[104,34,66,71],[105,12,66,71,"lineNumber"],[105,22,66,71],[106,12,66,71,"columnNumber"],[106,24,66,71],[107,10,66,71],[107,17,66,73],[107,18,66,74],[107,33,67,10],[107,37,67,10,"_reactJsxDevRuntime"],[107,56,67,10],[107,57,67,10,"jsxDEV"],[107,63,67,10],[107,65,67,11,"_expoRouter"],[107,76,67,16],[107,77,67,16,"Stack"],[107,82,67,16],[107,83,67,17,"Screen"],[107,89,67,23],[108,12,67,24,"name"],[108,16,67,28],[108,18,67,29],[108,32,67,43],[109,12,67,44,"options"],[109,19,67,51],[109,21,67,53],[110,14,67,55,"headerShown"],[110,25,67,66],[110,27,67,68],[111,12,67,74],[112,10,67,76],[113,12,67,76,"fileName"],[113,20,67,76],[113,22,67,76,"_jsxFileName"],[113,34,67,76],[114,12,67,76,"lineNumber"],[114,22,67,76],[115,12,67,76,"columnNumber"],[115,24,67,76],[116,10,67,76],[116,17,67,78],[116,18,67,79],[116,33,68,10],[116,37,68,10,"_reactJsxDevRuntime"],[116,56,68,10],[116,57,68,10,"jsxDEV"],[116,63,68,10],[116,65,68,11,"_expoRouter"],[116,76,68,16],[116,77,68,16,"Stack"],[116,82,68,16],[116,83,68,17,"Screen"],[116,89,68,23],[117,12,68,24,"name"],[117,16,68,28],[117,18,68,29],[117,25,68,36],[118,12,68,37,"options"],[118,19,68,44],[118,21,68,46],[119,14,68,48,"headerShown"],[119,25,68,59],[119,27,68,61],[120,12,68,67],[121,10,68,69],[122,12,68,69,"fileName"],[122,20,68,69],[122,22,68,69,"_jsxFileName"],[122,34,68,69],[123,12,68,69,"lineNumber"],[123,22,68,69],[124,12,68,69,"columnNumber"],[124,24,68,69],[125,10,68,69],[125,17,68,71],[125,18,68,72],[126,8,68,72],[127,10,68,72,"fileName"],[127,18,68,72],[127,20,68,72,"_jsxFileName"],[127,32,68,72],[128,10,68,72,"lineNumber"],[128,20,68,72],[129,10,68,72,"columnNumber"],[129,22,68,72],[130,8,68,72],[130,15,69,15],[130,16,69,16],[131,6,69,16],[132,8,69,16,"fileName"],[132,16,69,16],[132,18,69,16,"_jsxFileName"],[132,30,69,16],[133,8,69,16,"lineNumber"],[133,18,69,16],[134,8,69,16,"columnNumber"],[134,20,69,16],[135,6,69,16],[135,13,70,23],[136,4,70,24],[137,6,70,24,"fileName"],[137,14,70,24],[137,16,70,24,"_jsxFileName"],[137,28,70,24],[138,6,70,24,"lineNumber"],[138,16,70,24],[139,6,70,24,"columnNumber"],[139,18,70,24],[140,4,70,24],[140,11,71,18],[140,12,71,19],[141,2,73,0],[142,0,73,1],[142,3]],"functionMap":{"names":["<global>","NavigationGuard","useEffect$argument_0","RootLayout"],"mappings":"AAA;ACY;YCK;GD0B;CDO;eGG;CHmB"},"hasCjsExports":false},"type":"js/module"}]}