{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":81},"end":{"line":4,"column":102,"index":183}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":184},"end":{"line":5,"column":52,"index":236}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\"; // AUTH CONTEXT\n  // Provides authentication state and methods throughout the app\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [state, setState] = (0, _react.useState)({\n      user: null,\n      isLoading: true,\n      isAuthenticated: false\n    });\n\n    // Check for existing session on mount\n    (0, _react.useEffect)(() => {\n      checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async () => {\n      try {\n        const isAuth = await _servicesApi.authApi.isAuthenticated();\n        if (isAuth) {\n          const user = await _servicesApi.authApi.getCurrentUser();\n          setState({\n            user,\n            isLoading: false,\n            isAuthenticated: !!user\n          });\n        } else {\n          setState({\n            user: null,\n            isLoading: false,\n            isAuthenticated: false\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    };\n    const login = (0, _react.useCallback)(async credentials => {\n      setState(prev => ({\n        ...prev,\n        isLoading: true\n      }));\n      try {\n        const response = await _servicesApi.authApi.login(credentials);\n        setState({\n          user: response.user,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        setState(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n        throw error;\n      }\n    }, []);\n    const logout = (0, _react.useCallback)(async () => {\n      setState(prev => ({\n        ...prev,\n        isLoading: true\n      }));\n      try {\n        await _servicesApi.authApi.logout();\n      } finally {\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    }, []);\n    const refreshUser = (0, _react.useCallback)(async () => {\n      const user = await _servicesApi.authApi.getCurrentUser();\n      setState(prev => ({\n        ...prev,\n        user\n      }));\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        ...state,\n        login,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  var _default = AuthContext;\n});","lineCount":124,"map":[[4,63,1,0],[5,2,2,0],[6,2,2,0,"Object"],[6,8,2,0],[6,9,2,0,"defineProperty"],[6,23,2,0],[6,24,2,0,"exports"],[6,31,2,0],[7,4,2,0,"value"],[7,9,2,0],[8,2,2,0],[9,2,122,0,"Object"],[9,8,122,0],[9,9,122,0,"defineProperty"],[9,23,122,0],[9,24,122,0,"exports"],[9,31,122,0],[10,4,122,0,"enumerable"],[10,14,122,0],[11,4,122,0,"get"],[11,7,122,0],[11,18,122,0,"get"],[11,19,122,0],[12,6,122,0],[12,13,122,0,"_default"],[12,21,122,0],[13,4,122,0],[14,2,122,0],[15,2,26,0,"exports"],[15,9,26,0],[15,10,26,0,"AuthProvider"],[15,22,26,0],[15,25,26,0,"AuthProvider"],[15,37,26,0],[16,2,114,0,"exports"],[16,9,114,0],[16,10,114,0,"useAuth"],[16,17,114,0],[16,20,114,0,"useAuth"],[16,27,114,0],[17,2,4,0],[17,6,4,0,"_react"],[17,12,4,0],[17,15,4,0,"require"],[17,22,4,0],[17,23,4,0,"_dependencyMap"],[17,37,4,0],[18,2,5,0],[18,6,5,0,"_servicesApi"],[18,18,5,0],[18,21,5,0,"require"],[18,28,5,0],[18,29,5,0,"_dependencyMap"],[18,43,5,0],[19,2,5,52],[19,6,5,52,"_reactJsxDevRuntime"],[19,25,5,52],[19,28,5,52,"require"],[19,35,5,52],[19,36,5,52,"_dependencyMap"],[19,50,5,52],[20,2,20,0],[20,8,20,6,"AuthContext"],[20,19,20,17],[20,35,20,20],[20,39,20,20,"createContext"],[20,45,20,33],[20,46,20,33,"createContext"],[20,59,20,33],[20,61,20,63,"undefined"],[20,70,20,72],[20,71,20,73],[21,2,26,7],[21,11,26,16,"AuthProvider"],[21,23,26,28,"AuthProvider"],[21,24,26,29],[22,4,26,31,"children"],[23,2,26,59],[23,3,26,60],[23,5,26,62],[24,4,27,2],[24,10,27,8],[24,11,27,9,"state"],[24,16,27,14],[24,18,27,16,"setState"],[24,26,27,24],[24,27,27,25],[24,30,27,28],[24,34,27,28,"useState"],[24,40,27,36],[24,41,27,36,"useState"],[24,49,27,36],[24,51,27,48],[25,6,28,4,"user"],[25,10,28,8],[25,12,28,10],[25,16,28,14],[26,6,29,4,"isLoading"],[26,15,29,13],[26,17,29,15],[26,21,29,19],[27,6,30,4,"isAuthenticated"],[27,21,30,19],[27,23,30,21],[28,4,31,2],[28,5,31,3],[28,6,31,4],[30,4,33,2],[31,4,34,2],[31,8,34,2,"useEffect"],[31,14,34,11],[31,15,34,11,"useEffect"],[31,24,34,11],[31,26,34,12],[31,32,34,18],[32,6,35,4,"checkAuthStatus"],[32,21,35,19],[32,22,35,20],[32,23,35,21],[33,4,36,2],[33,5,36,3],[33,7,36,5],[33,9,36,7],[33,10,36,8],[34,4,38,2],[34,10,38,8,"checkAuthStatus"],[34,25,38,23],[34,28,38,26],[34,34,38,26,"checkAuthStatus"],[34,35,38,26],[34,40,38,38],[35,6,39,4],[35,10,39,8],[36,8,40,6],[36,14,40,12,"isAuth"],[36,20,40,18],[36,23,40,21],[36,29,40,27,"authApi"],[36,41,40,34],[36,42,40,34,"authApi"],[36,49,40,34],[36,50,40,35,"isAuthenticated"],[36,65,40,50],[36,66,40,51],[36,67,40,52],[37,8,41,6],[37,12,41,10,"isAuth"],[37,18,41,16],[37,20,41,18],[38,10,42,8],[38,16,42,14,"user"],[38,20,42,18],[38,23,42,21],[38,29,42,27,"authApi"],[38,41,42,34],[38,42,42,34,"authApi"],[38,49,42,34],[38,50,42,35,"getCurrentUser"],[38,64,42,49],[38,65,42,50],[38,66,42,51],[39,10,43,8,"setState"],[39,18,43,16],[39,19,43,17],[40,12,44,10,"user"],[40,16,44,14],[41,12,45,10,"isLoading"],[41,21,45,19],[41,23,45,21],[41,28,45,26],[42,12,46,10,"isAuthenticated"],[42,27,46,25],[42,29,46,27],[42,30,46,28],[42,31,46,29,"user"],[43,10,47,8],[43,11,47,9],[43,12,47,10],[44,8,48,6],[44,9,48,7],[44,15,48,13],[45,10,49,8,"setState"],[45,18,49,16],[45,19,49,17],[46,12,50,10,"user"],[46,16,50,14],[46,18,50,16],[46,22,50,20],[47,12,51,10,"isLoading"],[47,21,51,19],[47,23,51,21],[47,28,51,26],[48,12,52,10,"isAuthenticated"],[48,27,52,25],[48,29,52,27],[49,10,53,8],[49,11,53,9],[49,12,53,10],[50,8,54,6],[51,6,55,4],[51,7,55,5],[51,8,55,6],[51,15,55,13,"error"],[51,20,55,18],[51,22,55,20],[52,8,56,6,"console"],[52,15,56,13],[52,16,56,14,"error"],[52,21,56,19],[52,22,56,20],[52,42,56,40],[52,44,56,42,"error"],[52,49,56,47],[52,50,56,48],[53,8,57,6,"setState"],[53,16,57,14],[53,17,57,15],[54,10,58,8,"user"],[54,14,58,12],[54,16,58,14],[54,20,58,18],[55,10,59,8,"isLoading"],[55,19,59,17],[55,21,59,19],[55,26,59,24],[56,10,60,8,"isAuthenticated"],[56,25,60,23],[56,27,60,25],[57,8,61,6],[57,9,61,7],[57,10,61,8],[58,6,62,4],[59,4,63,2],[59,5,63,3],[60,4,65,2],[60,10,65,8,"login"],[60,15,65,13],[60,18,65,16],[60,22,65,16,"useCallback"],[60,28,65,27],[60,29,65,27,"useCallback"],[60,40,65,27],[60,42,65,28],[60,48,65,35,"credentials"],[60,59,65,60],[60,63,65,65],[61,6,66,4,"setState"],[61,14,66,12],[61,15,66,13,"prev"],[61,19,66,17],[61,24,66,22],[62,8,66,24],[62,11,66,27,"prev"],[62,15,66,31],[63,8,66,33,"isLoading"],[63,17,66,42],[63,19,66,44],[64,6,66,49],[64,7,66,50],[64,8,66,51],[64,9,66,52],[65,6,68,4],[65,10,68,8],[66,8,69,6],[66,14,69,12,"response"],[66,22,69,20],[66,25,69,23],[66,31,69,29,"authApi"],[66,43,69,36],[66,44,69,36,"authApi"],[66,51,69,36],[66,52,69,37,"login"],[66,57,69,42],[66,58,69,43,"credentials"],[66,69,69,54],[66,70,69,55],[67,8,70,6,"setState"],[67,16,70,14],[67,17,70,15],[68,10,71,8,"user"],[68,14,71,12],[68,16,71,14,"response"],[68,24,71,22],[68,25,71,23,"user"],[68,29,71,27],[69,10,72,8,"isLoading"],[69,19,72,17],[69,21,72,19],[69,26,72,24],[70,10,73,8,"isAuthenticated"],[70,25,73,23],[70,27,73,25],[71,8,74,6],[71,9,74,7],[71,10,74,8],[72,6,75,4],[72,7,75,5],[72,8,75,6],[72,15,75,13,"error"],[72,20,75,18],[72,22,75,20],[73,8,76,6,"setState"],[73,16,76,14],[73,17,76,15,"prev"],[73,21,76,19],[73,26,76,24],[74,10,76,26],[74,13,76,29,"prev"],[74,17,76,33],[75,10,76,35,"isLoading"],[75,19,76,44],[75,21,76,46],[76,8,76,52],[76,9,76,53],[76,10,76,54],[76,11,76,55],[77,8,77,6],[77,14,77,12,"error"],[77,19,77,17],[78,6,78,4],[79,4,79,2],[79,5,79,3],[79,7,79,5],[79,9,79,7],[79,10,79,8],[80,4,81,2],[80,10,81,8,"logout"],[80,16,81,14],[80,19,81,17],[80,23,81,17,"useCallback"],[80,29,81,28],[80,30,81,28,"useCallback"],[80,41,81,28],[80,43,81,29],[80,55,81,41],[81,6,82,4,"setState"],[81,14,82,12],[81,15,82,13,"prev"],[81,19,82,17],[81,24,82,22],[82,8,82,24],[82,11,82,27,"prev"],[82,15,82,31],[83,8,82,33,"isLoading"],[83,17,82,42],[83,19,82,44],[84,6,82,49],[84,7,82,50],[84,8,82,51],[84,9,82,52],[85,6,84,4],[85,10,84,8],[86,8,85,6],[86,14,85,12,"authApi"],[86,26,85,19],[86,27,85,19,"authApi"],[86,34,85,19],[86,35,85,20,"logout"],[86,41,85,26],[86,42,85,27],[86,43,85,28],[87,6,86,4],[87,7,86,5],[87,16,86,14],[88,8,87,6,"setState"],[88,16,87,14],[88,17,87,15],[89,10,88,8,"user"],[89,14,88,12],[89,16,88,14],[89,20,88,18],[90,10,89,8,"isLoading"],[90,19,89,17],[90,21,89,19],[90,26,89,24],[91,10,90,8,"isAuthenticated"],[91,25,90,23],[91,27,90,25],[92,8,91,6],[92,9,91,7],[92,10,91,8],[93,6,92,4],[94,4,93,2],[94,5,93,3],[94,7,93,5],[94,9,93,7],[94,10,93,8],[95,4,95,2],[95,10,95,8,"refreshUser"],[95,21,95,19],[95,24,95,22],[95,28,95,22,"useCallback"],[95,34,95,33],[95,35,95,33,"useCallback"],[95,46,95,33],[95,48,95,34],[95,60,95,46],[96,6,96,4],[96,12,96,10,"user"],[96,16,96,14],[96,19,96,17],[96,25,96,23,"authApi"],[96,37,96,30],[96,38,96,30,"authApi"],[96,45,96,30],[96,46,96,31,"getCurrentUser"],[96,60,96,45],[96,61,96,46],[96,62,96,47],[97,6,97,4,"setState"],[97,14,97,12],[97,15,97,13,"prev"],[97,19,97,17],[97,24,97,22],[98,8,97,24],[98,11,97,27,"prev"],[98,15,97,31],[99,8,97,33,"user"],[100,6,97,38],[100,7,97,39],[100,8,97,40],[100,9,97,41],[101,4,98,2],[101,5,98,3],[101,7,98,5],[101,9,98,7],[101,10,98,8],[102,4,100,2],[102,24,101,4],[102,28,101,4,"_reactJsxDevRuntime"],[102,47,101,4],[102,48,101,4,"jsxDEV"],[102,54,101,4],[102,56,101,5,"AuthContext"],[102,67,101,16],[102,68,101,17,"Provider"],[102,76,101,25],[103,6,102,6,"value"],[103,11,102,11],[103,13,102,13],[104,8,103,8],[104,11,103,11,"state"],[104,16,103,16],[105,8,104,8,"login"],[105,13,104,13],[106,8,105,8,"logout"],[106,14,105,14],[107,8,106,8,"refreshUser"],[108,6,107,6],[108,7,107,8],[109,6,107,8,"children"],[109,14,107,8],[109,16,109,7,"children"],[110,4,109,15],[111,6,109,15,"fileName"],[111,14,109,15],[111,16,109,15,"_jsxFileName"],[111,28,109,15],[112,6,109,15,"lineNumber"],[112,16,109,15],[113,6,109,15,"columnNumber"],[113,18,109,15],[114,4,109,15],[114,11,110,26],[114,12,110,27],[115,2,112,0],[116,2,114,7],[116,11,114,16,"useAuth"],[116,18,114,23,"useAuth"],[116,19,114,23],[116,21,114,26],[117,4,115,2],[117,10,115,8,"context"],[117,17,115,15],[117,20,115,18],[117,24,115,18,"useContext"],[117,30,115,28],[117,31,115,28,"useContext"],[117,41,115,28],[117,43,115,29,"AuthContext"],[117,54,115,40],[117,55,115,41],[118,4,116,2],[118,8,116,6,"context"],[118,15,116,13],[118,20,116,18,"undefined"],[118,29,116,27],[118,31,116,29],[119,6,117,4],[119,12,117,10],[119,16,117,14,"Error"],[119,21,117,19],[119,22,117,20],[119,67,117,65],[119,68,117,66],[120,4,118,2],[121,4,119,2],[121,11,119,9,"context"],[121,18,119,16],[122,2,120,0],[123,2,122,0],[123,6,122,0,"_default"],[123,14,122,0],[123,17,122,15,"AuthContext"],[123,28,122,26],[124,0,122,27],[124,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","setState$argument_0","logout","refreshUser","useAuth"],"mappings":"AAA;OCyB;YCQ;GDE;0BEE;GFyB;4BGE;aCC,sCD;eCU,uCD;GHG;6BKE;aDC,sCC;GLW;kCME;aFE,2BE;GNC;CDc;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}