{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":81},"end":{"line":4,"column":102,"index":183}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":184},"end":{"line":5,"column":52,"index":236}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\"; // AUTH CONTEXT\n  // Provides authentication state and methods throughout the app\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [state, setState] = (0, _react.useState)({\n      user: null,\n      isLoading: true,\n      isAuthenticated: false\n    });\n\n    // Check for existing session on mount\n    (0, _react.useEffect)(() => {\n      checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async () => {\n      try {\n        const isAuth = await _servicesApi.authApi.isAuthenticated();\n        if (isAuth) {\n          const user = await _servicesApi.authApi.getCurrentUser();\n          setState({\n            user,\n            isLoading: false,\n            isAuthenticated: !!user\n          });\n        } else {\n          setState({\n            user: null,\n            isLoading: false,\n            isAuthenticated: false\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    };\n    const login = (0, _react.useCallback)(async credentials => {\n      console.log('Login called with:', credentials.email);\n      setState(prev => ({\n        ...prev,\n        isLoading: true\n      }));\n      try {\n        console.log('Calling authApi.login...');\n        const response = await _servicesApi.authApi.login(credentials);\n        console.log('Login successful, user:', response.user?.email);\n        setState({\n          user: response.user,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Login failed:', error);\n        setState(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n        throw error;\n      }\n    }, []);\n    const logout = (0, _react.useCallback)(async () => {\n      setState(prev => ({\n        ...prev,\n        isLoading: true\n      }));\n      try {\n        await _servicesApi.authApi.logout();\n      } finally {\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    }, []);\n    const refreshUser = (0, _react.useCallback)(async () => {\n      const user = await _servicesApi.authApi.getCurrentUser();\n      setState(prev => ({\n        ...prev,\n        user\n      }));\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        ...state,\n        login,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  var _default = AuthContext;\n});","lineCount":128,"map":[[4,63,1,0],[5,2,2,0],[6,2,2,0,"Object"],[6,8,2,0],[6,9,2,0,"defineProperty"],[6,23,2,0],[6,24,2,0,"exports"],[6,31,2,0],[7,4,2,0,"value"],[7,9,2,0],[8,2,2,0],[9,2,126,0,"Object"],[9,8,126,0],[9,9,126,0,"defineProperty"],[9,23,126,0],[9,24,126,0,"exports"],[9,31,126,0],[10,4,126,0,"enumerable"],[10,14,126,0],[11,4,126,0,"get"],[11,7,126,0],[11,18,126,0,"get"],[11,19,126,0],[12,6,126,0],[12,13,126,0,"_default"],[12,21,126,0],[13,4,126,0],[14,2,126,0],[15,2,26,0,"exports"],[15,9,26,0],[15,10,26,0,"AuthProvider"],[15,22,26,0],[15,25,26,0,"AuthProvider"],[15,37,26,0],[16,2,118,0,"exports"],[16,9,118,0],[16,10,118,0,"useAuth"],[16,17,118,0],[16,20,118,0,"useAuth"],[16,27,118,0],[17,2,4,0],[17,6,4,0,"_react"],[17,12,4,0],[17,15,4,0,"require"],[17,22,4,0],[17,23,4,0,"_dependencyMap"],[17,37,4,0],[18,2,5,0],[18,6,5,0,"_servicesApi"],[18,18,5,0],[18,21,5,0,"require"],[18,28,5,0],[18,29,5,0,"_dependencyMap"],[18,43,5,0],[19,2,5,52],[19,6,5,52,"_reactJsxDevRuntime"],[19,25,5,52],[19,28,5,52,"require"],[19,35,5,52],[19,36,5,52,"_dependencyMap"],[19,50,5,52],[20,2,20,0],[20,8,20,6,"AuthContext"],[20,19,20,17],[20,35,20,20],[20,39,20,20,"createContext"],[20,45,20,33],[20,46,20,33,"createContext"],[20,59,20,33],[20,61,20,63,"undefined"],[20,70,20,72],[20,71,20,73],[21,2,26,7],[21,11,26,16,"AuthProvider"],[21,23,26,28,"AuthProvider"],[21,24,26,29],[22,4,26,31,"children"],[23,2,26,59],[23,3,26,60],[23,5,26,62],[24,4,27,2],[24,10,27,8],[24,11,27,9,"state"],[24,16,27,14],[24,18,27,16,"setState"],[24,26,27,24],[24,27,27,25],[24,30,27,28],[24,34,27,28,"useState"],[24,40,27,36],[24,41,27,36,"useState"],[24,49,27,36],[24,51,27,48],[25,6,28,4,"user"],[25,10,28,8],[25,12,28,10],[25,16,28,14],[26,6,29,4,"isLoading"],[26,15,29,13],[26,17,29,15],[26,21,29,19],[27,6,30,4,"isAuthenticated"],[27,21,30,19],[27,23,30,21],[28,4,31,2],[28,5,31,3],[28,6,31,4],[30,4,33,2],[31,4,34,2],[31,8,34,2,"useEffect"],[31,14,34,11],[31,15,34,11,"useEffect"],[31,24,34,11],[31,26,34,12],[31,32,34,18],[32,6,35,4,"checkAuthStatus"],[32,21,35,19],[32,22,35,20],[32,23,35,21],[33,4,36,2],[33,5,36,3],[33,7,36,5],[33,9,36,7],[33,10,36,8],[34,4,38,2],[34,10,38,8,"checkAuthStatus"],[34,25,38,23],[34,28,38,26],[34,34,38,26,"checkAuthStatus"],[34,35,38,26],[34,40,38,38],[35,6,39,4],[35,10,39,8],[36,8,40,6],[36,14,40,12,"isAuth"],[36,20,40,18],[36,23,40,21],[36,29,40,27,"authApi"],[36,41,40,34],[36,42,40,34,"authApi"],[36,49,40,34],[36,50,40,35,"isAuthenticated"],[36,65,40,50],[36,66,40,51],[36,67,40,52],[37,8,41,6],[37,12,41,10,"isAuth"],[37,18,41,16],[37,20,41,18],[38,10,42,8],[38,16,42,14,"user"],[38,20,42,18],[38,23,42,21],[38,29,42,27,"authApi"],[38,41,42,34],[38,42,42,34,"authApi"],[38,49,42,34],[38,50,42,35,"getCurrentUser"],[38,64,42,49],[38,65,42,50],[38,66,42,51],[39,10,43,8,"setState"],[39,18,43,16],[39,19,43,17],[40,12,44,10,"user"],[40,16,44,14],[41,12,45,10,"isLoading"],[41,21,45,19],[41,23,45,21],[41,28,45,26],[42,12,46,10,"isAuthenticated"],[42,27,46,25],[42,29,46,27],[42,30,46,28],[42,31,46,29,"user"],[43,10,47,8],[43,11,47,9],[43,12,47,10],[44,8,48,6],[44,9,48,7],[44,15,48,13],[45,10,49,8,"setState"],[45,18,49,16],[45,19,49,17],[46,12,50,10,"user"],[46,16,50,14],[46,18,50,16],[46,22,50,20],[47,12,51,10,"isLoading"],[47,21,51,19],[47,23,51,21],[47,28,51,26],[48,12,52,10,"isAuthenticated"],[48,27,52,25],[48,29,52,27],[49,10,53,8],[49,11,53,9],[49,12,53,10],[50,8,54,6],[51,6,55,4],[51,7,55,5],[51,8,55,6],[51,15,55,13,"error"],[51,20,55,18],[51,22,55,20],[52,8,56,6,"console"],[52,15,56,13],[52,16,56,14,"error"],[52,21,56,19],[52,22,56,20],[52,42,56,40],[52,44,56,42,"error"],[52,49,56,47],[52,50,56,48],[53,8,57,6,"setState"],[53,16,57,14],[53,17,57,15],[54,10,58,8,"user"],[54,14,58,12],[54,16,58,14],[54,20,58,18],[55,10,59,8,"isLoading"],[55,19,59,17],[55,21,59,19],[55,26,59,24],[56,10,60,8,"isAuthenticated"],[56,25,60,23],[56,27,60,25],[57,8,61,6],[57,9,61,7],[57,10,61,8],[58,6,62,4],[59,4,63,2],[59,5,63,3],[60,4,65,2],[60,10,65,8,"login"],[60,15,65,13],[60,18,65,16],[60,22,65,16,"useCallback"],[60,28,65,27],[60,29,65,27,"useCallback"],[60,40,65,27],[60,42,65,28],[60,48,65,35,"credentials"],[60,59,65,60],[60,63,65,65],[61,6,66,4,"console"],[61,13,66,11],[61,14,66,12,"log"],[61,17,66,15],[61,18,66,16],[61,38,66,36],[61,40,66,38,"credentials"],[61,51,66,49],[61,52,66,50,"email"],[61,57,66,55],[61,58,66,56],[62,6,67,4,"setState"],[62,14,67,12],[62,15,67,13,"prev"],[62,19,67,17],[62,24,67,22],[63,8,67,24],[63,11,67,27,"prev"],[63,15,67,31],[64,8,67,33,"isLoading"],[64,17,67,42],[64,19,67,44],[65,6,67,49],[65,7,67,50],[65,8,67,51],[65,9,67,52],[66,6,69,4],[66,10,69,8],[67,8,70,6,"console"],[67,15,70,13],[67,16,70,14,"log"],[67,19,70,17],[67,20,70,18],[67,46,70,44],[67,47,70,45],[68,8,71,6],[68,14,71,12,"response"],[68,22,71,20],[68,25,71,23],[68,31,71,29,"authApi"],[68,43,71,36],[68,44,71,36,"authApi"],[68,51,71,36],[68,52,71,37,"login"],[68,57,71,42],[68,58,71,43,"credentials"],[68,69,71,54],[68,70,71,55],[69,8,72,6,"console"],[69,15,72,13],[69,16,72,14,"log"],[69,19,72,17],[69,20,72,18],[69,45,72,43],[69,47,72,45,"response"],[69,55,72,53],[69,56,72,54,"user"],[69,60,72,58],[69,62,72,60,"email"],[69,67,72,65],[69,68,72,66],[70,8,73,6,"setState"],[70,16,73,14],[70,17,73,15],[71,10,74,8,"user"],[71,14,74,12],[71,16,74,14,"response"],[71,24,74,22],[71,25,74,23,"user"],[71,29,74,27],[72,10,75,8,"isLoading"],[72,19,75,17],[72,21,75,19],[72,26,75,24],[73,10,76,8,"isAuthenticated"],[73,25,76,23],[73,27,76,25],[74,8,77,6],[74,9,77,7],[74,10,77,8],[75,6,78,4],[75,7,78,5],[75,8,78,6],[75,15,78,13,"error"],[75,20,78,18],[75,22,78,20],[76,8,79,6,"console"],[76,15,79,13],[76,16,79,14,"error"],[76,21,79,19],[76,22,79,20],[76,37,79,35],[76,39,79,37,"error"],[76,44,79,42],[76,45,79,43],[77,8,80,6,"setState"],[77,16,80,14],[77,17,80,15,"prev"],[77,21,80,19],[77,26,80,24],[78,10,80,26],[78,13,80,29,"prev"],[78,17,80,33],[79,10,80,35,"isLoading"],[79,19,80,44],[79,21,80,46],[80,8,80,52],[80,9,80,53],[80,10,80,54],[80,11,80,55],[81,8,81,6],[81,14,81,12,"error"],[81,19,81,17],[82,6,82,4],[83,4,83,2],[83,5,83,3],[83,7,83,5],[83,9,83,7],[83,10,83,8],[84,4,85,2],[84,10,85,8,"logout"],[84,16,85,14],[84,19,85,17],[84,23,85,17,"useCallback"],[84,29,85,28],[84,30,85,28,"useCallback"],[84,41,85,28],[84,43,85,29],[84,55,85,41],[85,6,86,4,"setState"],[85,14,86,12],[85,15,86,13,"prev"],[85,19,86,17],[85,24,86,22],[86,8,86,24],[86,11,86,27,"prev"],[86,15,86,31],[87,8,86,33,"isLoading"],[87,17,86,42],[87,19,86,44],[88,6,86,49],[88,7,86,50],[88,8,86,51],[88,9,86,52],[89,6,88,4],[89,10,88,8],[90,8,89,6],[90,14,89,12,"authApi"],[90,26,89,19],[90,27,89,19,"authApi"],[90,34,89,19],[90,35,89,20,"logout"],[90,41,89,26],[90,42,89,27],[90,43,89,28],[91,6,90,4],[91,7,90,5],[91,16,90,14],[92,8,91,6,"setState"],[92,16,91,14],[92,17,91,15],[93,10,92,8,"user"],[93,14,92,12],[93,16,92,14],[93,20,92,18],[94,10,93,8,"isLoading"],[94,19,93,17],[94,21,93,19],[94,26,93,24],[95,10,94,8,"isAuthenticated"],[95,25,94,23],[95,27,94,25],[96,8,95,6],[96,9,95,7],[96,10,95,8],[97,6,96,4],[98,4,97,2],[98,5,97,3],[98,7,97,5],[98,9,97,7],[98,10,97,8],[99,4,99,2],[99,10,99,8,"refreshUser"],[99,21,99,19],[99,24,99,22],[99,28,99,22,"useCallback"],[99,34,99,33],[99,35,99,33,"useCallback"],[99,46,99,33],[99,48,99,34],[99,60,99,46],[100,6,100,4],[100,12,100,10,"user"],[100,16,100,14],[100,19,100,17],[100,25,100,23,"authApi"],[100,37,100,30],[100,38,100,30,"authApi"],[100,45,100,30],[100,46,100,31,"getCurrentUser"],[100,60,100,45],[100,61,100,46],[100,62,100,47],[101,6,101,4,"setState"],[101,14,101,12],[101,15,101,13,"prev"],[101,19,101,17],[101,24,101,22],[102,8,101,24],[102,11,101,27,"prev"],[102,15,101,31],[103,8,101,33,"user"],[104,6,101,38],[104,7,101,39],[104,8,101,40],[104,9,101,41],[105,4,102,2],[105,5,102,3],[105,7,102,5],[105,9,102,7],[105,10,102,8],[106,4,104,2],[106,24,105,4],[106,28,105,4,"_reactJsxDevRuntime"],[106,47,105,4],[106,48,105,4,"jsxDEV"],[106,54,105,4],[106,56,105,5,"AuthContext"],[106,67,105,16],[106,68,105,17,"Provider"],[106,76,105,25],[107,6,106,6,"value"],[107,11,106,11],[107,13,106,13],[108,8,107,8],[108,11,107,11,"state"],[108,16,107,16],[109,8,108,8,"login"],[109,13,108,13],[110,8,109,8,"logout"],[110,14,109,14],[111,8,110,8,"refreshUser"],[112,6,111,6],[112,7,111,8],[113,6,111,8,"children"],[113,14,111,8],[113,16,113,7,"children"],[114,4,113,15],[115,6,113,15,"fileName"],[115,14,113,15],[115,16,113,15,"_jsxFileName"],[115,28,113,15],[116,6,113,15,"lineNumber"],[116,16,113,15],[117,6,113,15,"columnNumber"],[117,18,113,15],[118,4,113,15],[118,11,114,26],[118,12,114,27],[119,2,116,0],[120,2,118,7],[120,11,118,16,"useAuth"],[120,18,118,23,"useAuth"],[120,19,118,23],[120,21,118,26],[121,4,119,2],[121,10,119,8,"context"],[121,17,119,15],[121,20,119,18],[121,24,119,18,"useContext"],[121,30,119,28],[121,31,119,28,"useContext"],[121,41,119,28],[121,43,119,29,"AuthContext"],[121,54,119,40],[121,55,119,41],[122,4,120,2],[122,8,120,6,"context"],[122,15,120,13],[122,20,120,18,"undefined"],[122,29,120,27],[122,31,120,29],[123,6,121,4],[123,12,121,10],[123,16,121,14,"Error"],[123,21,121,19],[123,22,121,20],[123,67,121,65],[123,68,121,66],[124,4,122,2],[125,4,123,2],[125,11,123,9,"context"],[125,18,123,16],[126,2,124,0],[127,2,126,0],[127,6,126,0,"_default"],[127,14,126,0],[127,17,126,15,"AuthContext"],[127,28,126,26],[128,0,126,27],[128,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","setState$argument_0","logout","refreshUser","useAuth"],"mappings":"AAA;OCyB;YCQ;GDE;0BEE;GFyB;4BGE;aCE,sCD;eCa,uCD;GHG;6BKE;aDC,sCC;GLW;kCME;aFE,2BE;GNC;CDc;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}