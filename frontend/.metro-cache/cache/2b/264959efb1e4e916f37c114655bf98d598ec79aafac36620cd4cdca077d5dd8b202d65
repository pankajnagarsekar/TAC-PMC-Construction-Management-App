{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":81},"end":{"line":4,"column":102,"index":183}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":184},"end":{"line":5,"column":52,"index":236}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\"; // AUTH CONTEXT\n  // Provides authentication state and methods throughout the app\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [state, setState] = (0, _react.useState)({\n      user: null,\n      isLoading: true,\n      isAuthenticated: false\n    });\n\n    // Check for existing session on mount\n    (0, _react.useEffect)(() => {\n      checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async () => {\n      console.log('Checking auth status...');\n      try {\n        const isAuth = await _servicesApi.authApi.isAuthenticated();\n        console.log('Is authenticated:', isAuth);\n        if (isAuth) {\n          const user = await _servicesApi.authApi.getCurrentUser();\n          console.log('Found user:', user?.email);\n          setState({\n            user,\n            isLoading: false,\n            isAuthenticated: !!user\n          });\n        } else {\n          console.log('No auth token found');\n          setState({\n            user: null,\n            isLoading: false,\n            isAuthenticated: false\n          });\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    };\n    const login = (0, _react.useCallback)(async credentials => {\n      console.log('Login called with:', credentials.email);\n      setState(prev => ({\n        ...prev,\n        isLoading: true\n      }));\n      try {\n        console.log('Calling authApi.login...');\n        const response = await _servicesApi.authApi.login(credentials);\n        console.log('Login successful, user:', response.user?.email);\n        setState({\n          user: response.user,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Login failed:', error);\n        setState(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n        throw error;\n      }\n    }, []);\n    const logout = (0, _react.useCallback)(async () => {\n      setState(prev => ({\n        ...prev,\n        isLoading: true\n      }));\n      try {\n        await _servicesApi.authApi.logout();\n      } finally {\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    }, []);\n    const refreshUser = (0, _react.useCallback)(async () => {\n      const user = await _servicesApi.authApi.getCurrentUser();\n      setState(prev => ({\n        ...prev,\n        user\n      }));\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        ...state,\n        login,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  var _default = AuthContext;\n});","lineCount":132,"map":[[4,63,1,0],[5,2,2,0],[6,2,2,0,"Object"],[6,8,2,0],[6,9,2,0,"defineProperty"],[6,23,2,0],[6,24,2,0,"exports"],[6,31,2,0],[7,4,2,0,"value"],[7,9,2,0],[8,2,2,0],[9,2,130,0,"Object"],[9,8,130,0],[9,9,130,0,"defineProperty"],[9,23,130,0],[9,24,130,0,"exports"],[9,31,130,0],[10,4,130,0,"enumerable"],[10,14,130,0],[11,4,130,0,"get"],[11,7,130,0],[11,18,130,0,"get"],[11,19,130,0],[12,6,130,0],[12,13,130,0,"_default"],[12,21,130,0],[13,4,130,0],[14,2,130,0],[15,2,26,0,"exports"],[15,9,26,0],[15,10,26,0,"AuthProvider"],[15,22,26,0],[15,25,26,0,"AuthProvider"],[15,37,26,0],[16,2,122,0,"exports"],[16,9,122,0],[16,10,122,0,"useAuth"],[16,17,122,0],[16,20,122,0,"useAuth"],[16,27,122,0],[17,2,4,0],[17,6,4,0,"_react"],[17,12,4,0],[17,15,4,0,"require"],[17,22,4,0],[17,23,4,0,"_dependencyMap"],[17,37,4,0],[18,2,5,0],[18,6,5,0,"_servicesApi"],[18,18,5,0],[18,21,5,0,"require"],[18,28,5,0],[18,29,5,0,"_dependencyMap"],[18,43,5,0],[19,2,5,52],[19,6,5,52,"_reactJsxDevRuntime"],[19,25,5,52],[19,28,5,52,"require"],[19,35,5,52],[19,36,5,52,"_dependencyMap"],[19,50,5,52],[20,2,20,0],[20,8,20,6,"AuthContext"],[20,19,20,17],[20,35,20,20],[20,39,20,20,"createContext"],[20,45,20,33],[20,46,20,33,"createContext"],[20,59,20,33],[20,61,20,63,"undefined"],[20,70,20,72],[20,71,20,73],[21,2,26,7],[21,11,26,16,"AuthProvider"],[21,23,26,28,"AuthProvider"],[21,24,26,29],[22,4,26,31,"children"],[23,2,26,59],[23,3,26,60],[23,5,26,62],[24,4,27,2],[24,10,27,8],[24,11,27,9,"state"],[24,16,27,14],[24,18,27,16,"setState"],[24,26,27,24],[24,27,27,25],[24,30,27,28],[24,34,27,28,"useState"],[24,40,27,36],[24,41,27,36,"useState"],[24,49,27,36],[24,51,27,48],[25,6,28,4,"user"],[25,10,28,8],[25,12,28,10],[25,16,28,14],[26,6,29,4,"isLoading"],[26,15,29,13],[26,17,29,15],[26,21,29,19],[27,6,30,4,"isAuthenticated"],[27,21,30,19],[27,23,30,21],[28,4,31,2],[28,5,31,3],[28,6,31,4],[30,4,33,2],[31,4,34,2],[31,8,34,2,"useEffect"],[31,14,34,11],[31,15,34,11,"useEffect"],[31,24,34,11],[31,26,34,12],[31,32,34,18],[32,6,35,4,"checkAuthStatus"],[32,21,35,19],[32,22,35,20],[32,23,35,21],[33,4,36,2],[33,5,36,3],[33,7,36,5],[33,9,36,7],[33,10,36,8],[34,4,38,2],[34,10,38,8,"checkAuthStatus"],[34,25,38,23],[34,28,38,26],[34,34,38,26,"checkAuthStatus"],[34,35,38,26],[34,40,38,38],[35,6,39,4,"console"],[35,13,39,11],[35,14,39,12,"log"],[35,17,39,15],[35,18,39,16],[35,43,39,41],[35,44,39,42],[36,6,40,4],[36,10,40,8],[37,8,41,6],[37,14,41,12,"isAuth"],[37,20,41,18],[37,23,41,21],[37,29,41,27,"authApi"],[37,41,41,34],[37,42,41,34,"authApi"],[37,49,41,34],[37,50,41,35,"isAuthenticated"],[37,65,41,50],[37,66,41,51],[37,67,41,52],[38,8,42,6,"console"],[38,15,42,13],[38,16,42,14,"log"],[38,19,42,17],[38,20,42,18],[38,39,42,37],[38,41,42,39,"isAuth"],[38,47,42,45],[38,48,42,46],[39,8,43,6],[39,12,43,10,"isAuth"],[39,18,43,16],[39,20,43,18],[40,10,44,8],[40,16,44,14,"user"],[40,20,44,18],[40,23,44,21],[40,29,44,27,"authApi"],[40,41,44,34],[40,42,44,34,"authApi"],[40,49,44,34],[40,50,44,35,"getCurrentUser"],[40,64,44,49],[40,65,44,50],[40,66,44,51],[41,10,45,8,"console"],[41,17,45,15],[41,18,45,16,"log"],[41,21,45,19],[41,22,45,20],[41,35,45,33],[41,37,45,35,"user"],[41,41,45,39],[41,43,45,41,"email"],[41,48,45,46],[41,49,45,47],[42,10,46,8,"setState"],[42,18,46,16],[42,19,46,17],[43,12,47,10,"user"],[43,16,47,14],[44,12,48,10,"isLoading"],[44,21,48,19],[44,23,48,21],[44,28,48,26],[45,12,49,10,"isAuthenticated"],[45,27,49,25],[45,29,49,27],[45,30,49,28],[45,31,49,29,"user"],[46,10,50,8],[46,11,50,9],[46,12,50,10],[47,8,51,6],[47,9,51,7],[47,15,51,13],[48,10,52,8,"console"],[48,17,52,15],[48,18,52,16,"log"],[48,21,52,19],[48,22,52,20],[48,43,52,41],[48,44,52,42],[49,10,53,8,"setState"],[49,18,53,16],[49,19,53,17],[50,12,54,10,"user"],[50,16,54,14],[50,18,54,16],[50,22,54,20],[51,12,55,10,"isLoading"],[51,21,55,19],[51,23,55,21],[51,28,55,26],[52,12,56,10,"isAuthenticated"],[52,27,56,25],[52,29,56,27],[53,10,57,8],[53,11,57,9],[53,12,57,10],[54,8,58,6],[55,6,59,4],[55,7,59,5],[55,8,59,6],[55,15,59,13,"error"],[55,20,59,18],[55,22,59,20],[56,8,60,6,"console"],[56,15,60,13],[56,16,60,14,"error"],[56,21,60,19],[56,22,60,20],[56,42,60,40],[56,44,60,42,"error"],[56,49,60,47],[56,50,60,48],[57,8,61,6,"setState"],[57,16,61,14],[57,17,61,15],[58,10,62,8,"user"],[58,14,62,12],[58,16,62,14],[58,20,62,18],[59,10,63,8,"isLoading"],[59,19,63,17],[59,21,63,19],[59,26,63,24],[60,10,64,8,"isAuthenticated"],[60,25,64,23],[60,27,64,25],[61,8,65,6],[61,9,65,7],[61,10,65,8],[62,6,66,4],[63,4,67,2],[63,5,67,3],[64,4,69,2],[64,10,69,8,"login"],[64,15,69,13],[64,18,69,16],[64,22,69,16,"useCallback"],[64,28,69,27],[64,29,69,27,"useCallback"],[64,40,69,27],[64,42,69,28],[64,48,69,35,"credentials"],[64,59,69,60],[64,63,69,65],[65,6,70,4,"console"],[65,13,70,11],[65,14,70,12,"log"],[65,17,70,15],[65,18,70,16],[65,38,70,36],[65,40,70,38,"credentials"],[65,51,70,49],[65,52,70,50,"email"],[65,57,70,55],[65,58,70,56],[66,6,71,4,"setState"],[66,14,71,12],[66,15,71,13,"prev"],[66,19,71,17],[66,24,71,22],[67,8,71,24],[67,11,71,27,"prev"],[67,15,71,31],[68,8,71,33,"isLoading"],[68,17,71,42],[68,19,71,44],[69,6,71,49],[69,7,71,50],[69,8,71,51],[69,9,71,52],[70,6,73,4],[70,10,73,8],[71,8,74,6,"console"],[71,15,74,13],[71,16,74,14,"log"],[71,19,74,17],[71,20,74,18],[71,46,74,44],[71,47,74,45],[72,8,75,6],[72,14,75,12,"response"],[72,22,75,20],[72,25,75,23],[72,31,75,29,"authApi"],[72,43,75,36],[72,44,75,36,"authApi"],[72,51,75,36],[72,52,75,37,"login"],[72,57,75,42],[72,58,75,43,"credentials"],[72,69,75,54],[72,70,75,55],[73,8,76,6,"console"],[73,15,76,13],[73,16,76,14,"log"],[73,19,76,17],[73,20,76,18],[73,45,76,43],[73,47,76,45,"response"],[73,55,76,53],[73,56,76,54,"user"],[73,60,76,58],[73,62,76,60,"email"],[73,67,76,65],[73,68,76,66],[74,8,77,6,"setState"],[74,16,77,14],[74,17,77,15],[75,10,78,8,"user"],[75,14,78,12],[75,16,78,14,"response"],[75,24,78,22],[75,25,78,23,"user"],[75,29,78,27],[76,10,79,8,"isLoading"],[76,19,79,17],[76,21,79,19],[76,26,79,24],[77,10,80,8,"isAuthenticated"],[77,25,80,23],[77,27,80,25],[78,8,81,6],[78,9,81,7],[78,10,81,8],[79,6,82,4],[79,7,82,5],[79,8,82,6],[79,15,82,13,"error"],[79,20,82,18],[79,22,82,20],[80,8,83,6,"console"],[80,15,83,13],[80,16,83,14,"error"],[80,21,83,19],[80,22,83,20],[80,37,83,35],[80,39,83,37,"error"],[80,44,83,42],[80,45,83,43],[81,8,84,6,"setState"],[81,16,84,14],[81,17,84,15,"prev"],[81,21,84,19],[81,26,84,24],[82,10,84,26],[82,13,84,29,"prev"],[82,17,84,33],[83,10,84,35,"isLoading"],[83,19,84,44],[83,21,84,46],[84,8,84,52],[84,9,84,53],[84,10,84,54],[84,11,84,55],[85,8,85,6],[85,14,85,12,"error"],[85,19,85,17],[86,6,86,4],[87,4,87,2],[87,5,87,3],[87,7,87,5],[87,9,87,7],[87,10,87,8],[88,4,89,2],[88,10,89,8,"logout"],[88,16,89,14],[88,19,89,17],[88,23,89,17,"useCallback"],[88,29,89,28],[88,30,89,28,"useCallback"],[88,41,89,28],[88,43,89,29],[88,55,89,41],[89,6,90,4,"setState"],[89,14,90,12],[89,15,90,13,"prev"],[89,19,90,17],[89,24,90,22],[90,8,90,24],[90,11,90,27,"prev"],[90,15,90,31],[91,8,90,33,"isLoading"],[91,17,90,42],[91,19,90,44],[92,6,90,49],[92,7,90,50],[92,8,90,51],[92,9,90,52],[93,6,92,4],[93,10,92,8],[94,8,93,6],[94,14,93,12,"authApi"],[94,26,93,19],[94,27,93,19,"authApi"],[94,34,93,19],[94,35,93,20,"logout"],[94,41,93,26],[94,42,93,27],[94,43,93,28],[95,6,94,4],[95,7,94,5],[95,16,94,14],[96,8,95,6,"setState"],[96,16,95,14],[96,17,95,15],[97,10,96,8,"user"],[97,14,96,12],[97,16,96,14],[97,20,96,18],[98,10,97,8,"isLoading"],[98,19,97,17],[98,21,97,19],[98,26,97,24],[99,10,98,8,"isAuthenticated"],[99,25,98,23],[99,27,98,25],[100,8,99,6],[100,9,99,7],[100,10,99,8],[101,6,100,4],[102,4,101,2],[102,5,101,3],[102,7,101,5],[102,9,101,7],[102,10,101,8],[103,4,103,2],[103,10,103,8,"refreshUser"],[103,21,103,19],[103,24,103,22],[103,28,103,22,"useCallback"],[103,34,103,33],[103,35,103,33,"useCallback"],[103,46,103,33],[103,48,103,34],[103,60,103,46],[104,6,104,4],[104,12,104,10,"user"],[104,16,104,14],[104,19,104,17],[104,25,104,23,"authApi"],[104,37,104,30],[104,38,104,30,"authApi"],[104,45,104,30],[104,46,104,31,"getCurrentUser"],[104,60,104,45],[104,61,104,46],[104,62,104,47],[105,6,105,4,"setState"],[105,14,105,12],[105,15,105,13,"prev"],[105,19,105,17],[105,24,105,22],[106,8,105,24],[106,11,105,27,"prev"],[106,15,105,31],[107,8,105,33,"user"],[108,6,105,38],[108,7,105,39],[108,8,105,40],[108,9,105,41],[109,4,106,2],[109,5,106,3],[109,7,106,5],[109,9,106,7],[109,10,106,8],[110,4,108,2],[110,24,109,4],[110,28,109,4,"_reactJsxDevRuntime"],[110,47,109,4],[110,48,109,4,"jsxDEV"],[110,54,109,4],[110,56,109,5,"AuthContext"],[110,67,109,16],[110,68,109,17,"Provider"],[110,76,109,25],[111,6,110,6,"value"],[111,11,110,11],[111,13,110,13],[112,8,111,8],[112,11,111,11,"state"],[112,16,111,16],[113,8,112,8,"login"],[113,13,112,13],[114,8,113,8,"logout"],[114,14,113,14],[115,8,114,8,"refreshUser"],[116,6,115,6],[116,7,115,8],[117,6,115,8,"children"],[117,14,115,8],[117,16,117,7,"children"],[118,4,117,15],[119,6,117,15,"fileName"],[119,14,117,15],[119,16,117,15,"_jsxFileName"],[119,28,117,15],[120,6,117,15,"lineNumber"],[120,16,117,15],[121,6,117,15,"columnNumber"],[121,18,117,15],[122,4,117,15],[122,11,118,26],[122,12,118,27],[123,2,120,0],[124,2,122,7],[124,11,122,16,"useAuth"],[124,18,122,23,"useAuth"],[124,19,122,23],[124,21,122,26],[125,4,123,2],[125,10,123,8,"context"],[125,17,123,15],[125,20,123,18],[125,24,123,18,"useContext"],[125,30,123,28],[125,31,123,28,"useContext"],[125,41,123,28],[125,43,123,29,"AuthContext"],[125,54,123,40],[125,55,123,41],[126,4,124,2],[126,8,124,6,"context"],[126,15,124,13],[126,20,124,18,"undefined"],[126,29,124,27],[126,31,124,29],[127,6,125,4],[127,12,125,10],[127,16,125,14,"Error"],[127,21,125,19],[127,22,125,20],[127,67,125,65],[127,68,125,66],[128,4,126,2],[129,4,127,2],[129,11,127,9,"context"],[129,18,127,16],[130,2,128,0],[131,2,130,0],[131,6,130,0,"_default"],[131,14,130,0],[131,17,130,15,"AuthContext"],[131,28,130,26],[132,0,130,27],[132,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","setState$argument_0","logout","refreshUser","useAuth"],"mappings":"AAA;OCyB;YCQ;GDE;0BEE;GF6B;4BGE;aCE,sCD;eCa,uCD;GHG;6BKE;aDC,sCC;GLW;kCME;aFE,2BE;GNC;CDc;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}